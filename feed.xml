<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.1.1">Jekyll</generator><link href="https://bbernst.github.io/blog/feed.xml" rel="self" type="application/atom+xml" /><link href="https://bbernst.github.io/blog/" rel="alternate" type="text/html" /><updated>2021-02-22T11:59:03-06:00</updated><id>https://bbernst.github.io/blog/feed.xml</id><title type="html">benâ€™s blog</title><subtitle>Notebooks and posts to share</subtitle><entry><title type="html">New computer setup</title><link href="https://bbernst.github.io/blog/developer%20setup/2021/01/02/computer-setup.html" rel="alternate" type="text/html" title="New computer setup" /><published>2021-01-02T00:00:00-06:00</published><updated>2021-01-02T00:00:00-06:00</updated><id>https://bbernst.github.io/blog/developer%20setup/2021/01/02/computer-setup</id><content type="html" xml:base="https://bbernst.github.io/blog/developer%20setup/2021/01/02/computer-setup.html">&lt;!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2021-01-02-computer-setup.ipynb
--&gt;

&lt;div class=&quot;container&quot; id=&quot;notebook-container&quot;&gt;
        
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;Goal&quot;&gt;Goal&lt;a class=&quot;anchor-link&quot; href=&quot;#Goal&quot;&gt; &lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;This post is mostly designed to help my future self remember what I like about my developer setup for a new (osx) laptop. Every time I need to do this, at work or on a personal computer, I find that the software or my preferences have changed enough to make the previous list not as automatic as it could be and it forces me to take the time to re-research everything I need. Maybe this is a good idea to be doing once in a while, but why not have a nice set of defaults and edit from there if needed. Theoretically, this could be one script that I pull and run, but for now it'll be a list of links, scripts, and commentary.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;Applications&quot;&gt;Applications&lt;a class=&quot;anchor-link&quot; href=&quot;#Applications&quot;&gt; &lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;In the click-and-drag into the Applications folder style of installing, there are a few apps that help me with basic navigation and usage.&lt;/p&gt;
&lt;p&gt;1. &lt;a href=&quot;https://www.irradiatedsoftware.com/sizeup/&quot;&gt;SizeUp&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I've always used some form of window manager and sizeup works well -- no need to learn new keyboard shortcuts&lt;/p&gt;
&lt;p&gt;2. &lt;a href=&quot;https://keepingyouawake.app/&quot;&gt;KeepingYouAwake&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Another simple app to prevent sleep via a toggle in the menu&lt;/p&gt;
&lt;p&gt;3. &lt;a href=&quot;https://code.visualstudio.com/&quot;&gt;VSCode&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For a while, I was on sublime text, then atom, and now to vscode. The extensions make a big difference for me and are also the most variable part of this so I'd guess this will change going forward but for now the follow up steps for my &quot;full&quot; vscode install are:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1. Install code in PATH via installer
2. Add atom shortcuts
3. Some useful extensions (for python)
    a. GitLens
    b. Python
    c. Pyright
    d. Rainbow CSV
    e. indent-rainbow
    f. Python Indent
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There's one more step in vscode to choose the python interpreter so remember to set this after getting some python envs setup below.&lt;/p&gt;
&lt;p&gt;4. &lt;a href=&quot;https://iterm2.com/&quot;&gt;iTerm2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Most comfortable with iterm over terminal&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;Command-line&quot;&gt;Command line&lt;a class=&quot;anchor-link&quot; href=&quot;#Command-line&quot;&gt; &lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;This section looks into the rest of the developer setup and is a bit denser.&lt;/p&gt;
&lt;p&gt;1. &lt;a href=&quot;https://brew.sh/&quot;&gt;brew&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A must have for osx&lt;/p&gt;
&lt;p&gt;2. &lt;a href=&quot;https://ohmyz.sh/#install&quot;&gt;ohmyzsh&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Always used osx default bash, but found this after the switch to zsh -- it's honestly much better and easier to use.&lt;/p&gt;
&lt;p&gt;3. &lt;a href=&quot;https://github.com/romkatv/powerlevel10k&quot;&gt;powerlevel10k&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Powerlevel is a really good theme and I'll likely keep using whatever the newest version is. For the easiest install, follow the install instructions for ohmyzsh then install the font via iterm. Also, we're at the point where we do need to change some settings manually:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1. Set `ZSH_THEME=&quot;powerlevel10k/powerlevel10k&quot;` in `~/.zshrc`
2. Run `p10k configure`
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4. Add aliases to &lt;code&gt;~/.zshrc&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;While we're in &lt;code&gt;~/.zshrc&lt;/code&gt; we can add a few aliases that are useful to have.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1. `alias gpu='git push -u origin HEAD'` -- so you don't need to set remotes on every new branch
2. `alias gb='git --no-pager branch'` -- to make branches easier to copy
3. `alias jupnb='jupyter notebook'`
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5. &lt;a href=&quot;https://github.com/zsh-users/zsh-syntax-highlighting/blob/master/INSTALL.md#oh-my-zsh&quot;&gt;zsh-syntax-highlighting&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Zsh syntax highlighting is useful to have and is best installed with the ohmyzsh way instead of with brew. Also remember to put this as the last plugin in &lt;code&gt;~/.zshrc&lt;/code&gt; which the repo will also mention to do.&lt;/p&gt;
&lt;p&gt;6. &lt;a href=&quot;https://github.com/tmux/tmux/wiki&quot;&gt;tmux&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Tmux as a command line window manager helps keep the number of tabs down and I install using &lt;code&gt;brew install tmux&lt;/code&gt;. To get the most out of this, it's best to also install some tmux packages so that it can reboot itself without losing sessions when iterm is closed.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1. Install [tpm](https://github.com/tmux-plugins/tpm) to get .tmux.conf 
2. [tmux resurrect](https://github.com/tmux-plugins/tmux-resurrect)
3. [tmux continuum](https://github.com/tmux-plugins/tmux-continuum)
4. Add to .tmux.conf (in the middle, following the tpm examples)
    a. `set -g default-terminal &quot;screen-256color&quot;` -- fixes a bug I had with tmux and ohmyzsh settings
    b. `set -g @plugin 'tmux-plugins/tmux-resurrect'`
    c. `set -g @plugin 'tmux-plugins/tmux-continuum'`
    d. `set -g @continuum-restore 'on'`
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;7. &lt;a href=&quot;https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent&quot;&gt;New github ssh&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;An obvious one, but set up a new ssh to avoid signing in over and over&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;Conda&quot;&gt;Conda&lt;a class=&quot;anchor-link&quot; href=&quot;#Conda&quot;&gt; &lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;1. &lt;a href=&quot;https://docs.conda.io/en/latest/&quot;&gt;Conda&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I consider conda my default and quick python environment tool, it just works. There are a few gotchas so I use a simple script, &lt;code&gt;install_miniconda.sh&lt;/code&gt;, to make it easier to remember. First, make it executable with &lt;code&gt;chmod +x install_miniconda.sh&lt;/code&gt; then run with &lt;code&gt;./install_miniconda.sh&lt;/code&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;curl -o ${HOME}/miniconda.sh https://repo.anaconda.com/miniconda/Miniconda3-latest-MacOSX-x86_64.sh
shasum -a 256 ${HOME}/miniconda.sh
CONDA_PATH=&quot;${HOME}/miniconda3&quot;
bash ${HOME}/miniconda.sh -b -p ${CONDA_PATH}
rm ${HOME}/miniconda.sh
eval &quot;$(${CONDA_PATH}/bin/conda shell.zsh hook)&quot;
conda init zsh
conda config --set auto_activate_base false&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;Nix&quot;&gt;Nix&lt;a class=&quot;anchor-link&quot; href=&quot;#Nix&quot;&gt; &lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;1. &lt;a href=&quot;https://nixos.org/download.html&quot;&gt;Nix&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Nix is a really powerful environment management tool. It's not really fair to have this presented in comparison to conda since it does so much more, but for my purposes they end up being pretty similar. Nix creates environments &quot;all the way down&quot; installing everything from scratch which means you can guarantee envs that work today will work tomorrow. Or put another way, envs that work on your computer will work on your colleague's computer. This is a really strong claim and not even docker can guarantee that nothing under the hood will change between builds off the same dockerfile (nix can even make the docker images directly).&lt;/p&gt;
&lt;p&gt;However, it's not the most user friendly or well documented and building nix envs takes a while. If, for whatever reason, something isn't working with nix then it'll likely be a pain to figure out and drag you into the parts of your computer you hoped to ignore. Also, if you want to deploy with nix then you have to deal with rebuilding the envs everywhere, which again, takes a while. There are ways to address all of this, but you have to be ready to dig in -- it really comes down to a trade off between ease and stability. Case and point, for now, installing nix on osx is a bit of a mess but you can follow the steps in either of the first two links then run the final command:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1. https://nixos.org/manual/nix/stable/#sect-macos-installation -- the official documentation
2. https://dubinets.io/installing-nix-on-macos-catalina/ -- an easier guide
3. `sh &amp;lt;(curl -L https://nixos.org/nix/install) --darwin-use-unencrypted-nix-store-volume` -- the install command&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;Python-environments&quot;&gt;Python environments&lt;a class=&quot;anchor-link&quot; href=&quot;#Python-environments&quot;&gt; &lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;There are a lot of opinions and ways to do this, but I'll cover just two -- the conda way and the nix way.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;Conda&quot;&gt;Conda&lt;a class=&quot;anchor-link&quot; href=&quot;#Conda&quot;&gt; &lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;For conda, I manage &lt;code&gt;environment.yml&lt;/code&gt; files for each env. The nice parts about using an env yml file is you can keep the definition of python together with the choice/versions of your packages. Without going too much into the packages, which will change depending on the project anyway, the main sections are as follows.&lt;/p&gt;
&lt;p&gt;1. environment.yml&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;name: py38
channels:
  - defaults
  - conda-forge
  - ...
dependencies:
  - python=3.8 # python version
  - pip
  - conda-build
  - ...
  - pip:
    - autopep8
    - flake8
    - mypy
    - pytest
    - ...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2. Then make the env&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;source ${HOME}/.zshrc
conda env create -f environment.yml
# pip list --format=freeze &amp;gt; requirements.txt
# ^^ creates a requirements.txt (always a good idea)
# conda env export --no-builds | grep -v &quot;^prefix: &quot; &amp;gt; environment_versioned.yml
# ^^ creates a versioned file (always a good idea)&lt;/code&gt;&lt;/pre&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;Nix&quot;&gt;Nix&lt;a class=&quot;anchor-link&quot; href=&quot;#Nix&quot;&gt; &lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;With nix, you can also create a &lt;code&gt;default.nix&lt;/code&gt; file which handles the entire install (python and specific env) together. You can fully use nix to manage all packages, but I still prefer to use virtualenvs (essentially an env within an env) since it's easier and faster for development work and packages are still pinnable with versions. Also, I find that nix sometimes drags behind a bit which isn't something I want to wait for.&lt;/p&gt;
&lt;p&gt;1. requirements.txt&lt;/p&gt;
&lt;p&gt;This looks just like normal requirements.txt and is called exactly the same way. One note, I use a little script that creates a requirements_versioned.txt from an existing env and requirements.txt file (relies on &lt;code&gt;from pip._internal.operations import freeze&lt;/code&gt; and &lt;code&gt;freeze.freeze()&lt;/code&gt;). This is to get around the fact that &lt;code&gt;pip list --format freeze&lt;/code&gt; creates an enormous list and I usually only want to see the specified packages/versions. It makes it easier to manage and the only risk is a package changes a dependency version without bumping to a new version itself, so you can use the full &lt;code&gt;pip list&lt;/code&gt; for more stability.&lt;/p&gt;
&lt;p&gt;2. default.nix&lt;/p&gt;
&lt;p&gt;First, in full:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# nix-channel --update nixpkgs
# ^^ Update nixpkgs occasionally

let
  # https://nixos.wiki/wiki/FAQ/Pinning_Nixpkgs
  # pkgs = import &amp;lt;nixpkgs&amp;gt; {};
  pkgs = import (builtins.fetchTarball {
    # Descriptive name to make the store path easier to identify
    name = &quot;nixpkgs-2021-01-03&quot;;
    # Find the current commit hash with:
    # `curl &quot;https://releases.nixos.org/nixpkgs/nixpkgs-$(nix-instantiate --eval -E '(import &amp;lt;nixpkgs&amp;gt; {}).lib.version' | tr -d '&quot;')/git-revision&quot; &amp;amp;&amp;amp; echo`
    url = &quot;https://github.com/nixos/nixpkgs/archive/2080afd039999a58d60596d04cefb32ef5fcc2a2.tar.gz&quot;;
    # Hash obtained using: `nix-prefetch-url --unpack &amp;lt;url&amp;gt;`
    sha256 = &quot;0i677swvj8fxfwg3jibd0xl33rn0rq0adnniim8jnp384whnh8ry&quot;;
  }) {};

  pyInputs = with pkgs.python38Packages; [
    pkgs.python38
    virtualenv
    virtualenvwrapper
    pip
  ];

in pkgs.stdenv.mkDerivation rec {
  name = &quot;py38&quot;;
  env_home = &quot;Development&quot;;
  repo = &quot;base_envs&quot;;
  req_location = &quot;requirements_versioned.txt&quot;;

  buildInputs = pyInputs;

  LD_LIBRARY_PATH = &quot;${pkgs.stdenv.lib.makeLibraryPath [ pkgs.stdenv.cc.cc.lib ]}&quot;;

  shellHook = ''
    # set SOURCE_DATE_EPOCH so that we can use python wheels
    SOURCE_DATE_EPOCH=$(date +%s)

    # ENV_HOME
    export ENV_HOME=&quot;$HOME/${env_home}/${repo}&quot;
    export PYTHONPATH=&quot;$PYTHONPATH:$ENV_HOME&quot;

    # use virtualenvwrapper to manage envs
    export WORKON_HOME=&quot;$ENV_HOME/Envs&quot;
    mkdir -p $WORKON_HOME
    source $(command -v virtualenvwrapper.sh)

    # install
    mkvirtualenv ${name}
    workon ${name}
    python3 -m pip install -r &quot;$ENV_HOME/${req_location}&quot;

    # optional
    python $ENV_HOME/jupyter_rename.py --repo=${repo} --name=${name}
    python $ENV_HOME/requirements_versioned.py --repo=${repo}
    pip list --format=freeze &amp;gt; requirements_versioned_full.txt

    # prompt that says the derivation
    PS1=&quot;\[\033[1;34m\][nix-shell-${name}:\w]\n\$ \[\033[0m\]&quot;
  '';
}&lt;/code&gt;&lt;/pre&gt;
&lt;hr /&gt;
&lt;p&gt;This is dense because it's a different language and functional programming looks different than python. The idea is that we're running one function &lt;code&gt;mkDerivation&lt;/code&gt; and defining a few variables first within the &lt;code&gt;let&lt;/code&gt;. First, get nixpkgs. If we don't care about pinning nix (we do) then we could use:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;pkgs = import &amp;lt;nixpkgs&amp;gt; {};&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But I don't want nix changing between builds so it gets pinned using:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;pkgs = import (builtins.fetchTarball {
  name = &quot;nixpkgs-2021-01-03&quot;;
  url = &quot;https://github.com/nixos/nixpkgs/archive/2080afd039999a58d60596d04cefb32ef5fcc2a2.tar.gz&quot;;
  sha256 = &quot;0i677swvj8fxfwg3jibd0xl33rn0rq0adnniim8jnp384whnh8ry&quot;;
}) {};&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then, you choose the python version and also get pip and virtualenv since they are needed to make the environment:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;pyInputs = with pkgs.python38Packages; [
  pkgs.python38
  virtualenv
  virtualenvwrapper
  pip
];&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now &lt;code&gt;mkDerivation&lt;/code&gt; is run which has a few parameters like &lt;code&gt;name&lt;/code&gt;, &lt;code&gt;buildInputs&lt;/code&gt;, and an optional &lt;code&gt;shellHook&lt;/code&gt; which is important for a number of settings. &lt;code&gt;name&lt;/code&gt; is the env name and I propagate that around to a few other places (like making sure my jupyter notebooks say which env they are, via a small script). &lt;code&gt;buildInputs&lt;/code&gt; is the list of packages to  include in the environment (note this can include anything nix knows about so that extends past just python and can include R, haskell, etc.). &lt;code&gt;shellHook&lt;/code&gt; should look very familiar since it's how you'd create your virtualenv and install packages normally -- this hook is in bash even though we use zsh above. When managing multiple default.nix files (likely in different repos), then I also make sure to edit the following variables appropriately:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;name = &quot;py38&quot;;
env_home = &quot;Development&quot;;
repo = &quot;base_envs&quot;;
req_location = &quot;requirements_versioned.txt&quot;;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Finally, to build this environment you simply run&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;nix-shell default.nix&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then wait.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h3 id=&quot;R&quot;&gt;R&lt;a class=&quot;anchor-link&quot; href=&quot;#R&quot;&gt; &lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;As a last very brief aside, what if we wanted to also install R into our same environment? Without nix, you'd go over to the R website and download directly but then it's separate from our developer env and not easily shareable. With conda, apparently this is doable, but I haven't been able to find a clean example. With nix, it's actually really easy since mixing languages one of the things nix does best. I've rarely seen good multi language environment guides, but if you're willing to go down the path of using nix then there are nice wins at the end. If I add:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rInputs = with pkgs.rPackages; [
  pkgs.R
  data_table
  tidyverse
];&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and change to &lt;code&gt;buildInputs = pyInputs ++ rInputs;&lt;/code&gt; (++ means concatenate the lists) then we're all set.&lt;/p&gt;
&lt;p&gt;To rebuild this environment, you rerun&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;nix-shell default.nix&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then wait.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</content><author><name>bbernst</name></author><category term="developer setup" /><summary type="html"></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://bbernst.github.io/blog/images/computer-setup/laptop.png" /><media:content medium="image" url="https://bbernst.github.io/blog/images/computer-setup/laptop.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">A/B tests with hashes in BigQuery</title><link href="https://bbernst.github.io/blog/bigquery/ab%20tests/2020/07/30/bigquery-ab-tests.html" rel="alternate" type="text/html" title="A/B tests with hashes in BigQuery" /><published>2020-07-30T00:00:00-05:00</published><updated>2020-07-30T00:00:00-05:00</updated><id>https://bbernst.github.io/blog/bigquery/ab%20tests/2020/07/30/bigquery-ab-tests</id><content type="html" xml:base="https://bbernst.github.io/blog/bigquery/ab%20tests/2020/07/30/bigquery-ab-tests.html">&lt;!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-07-30-bigquery-ab-tests.ipynb
--&gt;

&lt;div class=&quot;container&quot; id=&quot;notebook-container&quot;&gt;
        
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;An-example-problem&quot;&gt;An example problem&lt;a class=&quot;anchor-link&quot; href=&quot;#An-example-problem&quot;&gt; &lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Recently, I've needed to generate random but consistent values in a BigQuery data pipeline. This is a pipeline that runs many times per day and constantly has new data feeding in through upstream pipes.&lt;/p&gt;
&lt;p&gt;As an example, let's say that we have 10,000 users and need to randomly place them into groups depending on the hour of the work day. Additionally, we only want to do this once; once a user gets placed into a group, they stay in that group. This way, downstream work can rely on how each user is assigned without having to worry about checking for changes. Visually, this looks like:&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;
&lt;div&gt;
&lt;style scoped=&quot;&quot;&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;
  &lt;thead&gt;
    &lt;tr style=&quot;text-align: right;&quot;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;hour&lt;/th&gt;
      &lt;th&gt;user_ids&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;9&lt;/td&gt;
      &lt;td&gt;~1000 random users&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;10&lt;/td&gt;
      &lt;td&gt;~1000 random users&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;11&lt;/td&gt;
      &lt;td&gt;~1000 random users&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;td&gt;12&lt;/td&gt;
      &lt;td&gt;~1000 random users&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;4&lt;/th&gt;
      &lt;td&gt;13&lt;/td&gt;
      &lt;td&gt;~1000 random users&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;5&lt;/th&gt;
      &lt;td&gt;14&lt;/td&gt;
      &lt;td&gt;~1000 random users&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;6&lt;/th&gt;
      &lt;td&gt;15&lt;/td&gt;
      &lt;td&gt;~1000 random users&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;7&lt;/th&gt;
      &lt;td&gt;16&lt;/td&gt;
      &lt;td&gt;~1000 random users&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;8&lt;/th&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;~1000 random users&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;9&lt;/th&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;~1000 random users&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;BigQuery has a number of functions for producing random numbers, like &lt;code&gt;RAND()&lt;/code&gt;, and we can create the table above with a query:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;CAST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FLOOR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;RAND&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INT64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;UNNEST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GENERATE_ARRAY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;ARRAY_AGG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_ids&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, this query produces &lt;em&gt;new&lt;/em&gt; random groups each time the query is run. There's no built-in way to specify a seed in &lt;code&gt;RAND()&lt;/code&gt;, so we'll need to learn how to create a &lt;code&gt;CONSISTENT_RAND(...)&lt;/code&gt; ourselves.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;Solution&quot;&gt;Solution&lt;a class=&quot;anchor-link&quot; href=&quot;#Solution&quot;&gt; &lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;This &lt;a href=&quot;http://blog.richardweiss.org/2016/12/25/hash-splits.html&quot;&gt;thorough post&lt;/a&gt; solves our problem, gives us python and SQL code, but unfortunately not for the BigQuery dialect.&lt;/p&gt;
&lt;p&gt;Let's build this up for BigQuery step by step within the &lt;code&gt;src&lt;/code&gt; CTE:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;CONCAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;salt&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;MD5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONCAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;salt&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;md5_key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;TO_HEX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MD5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONCAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;salt&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hex_md5_key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;SUBSTR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TO_HEX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MD5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONCAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;salt&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;substr_hex_md5_key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;CONCAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;0x&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SUBSTR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TO_HEX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MD5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONCAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;salt&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;correct_hex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;CAST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONCAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;0x&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SUBSTR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TO_HEX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MD5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONCAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;salt&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INT64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;numerator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;CAST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;0xFFFFFF&amp;#39;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INT64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;denominator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;CAST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONCAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;0x&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SUBSTR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TO_HEX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MD5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONCAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;salt&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INT64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; 
      &lt;span class=&quot;k&quot;&gt;CAST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;0xFFFFFF&amp;#39;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INT64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;consistent_rand&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;UNNEST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GENERATE_ARRAY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;key&lt;/code&gt;: Allows us to effectively set a seed using &lt;code&gt;user_id&lt;/code&gt; and a &lt;code&gt;salt&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;md5_key&lt;/code&gt;: Hash the &lt;code&gt;key&lt;/code&gt; with &lt;code&gt;MD5()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hex_md5_key&lt;/code&gt;: Convert &lt;code&gt;md5_key&lt;/code&gt; with &lt;code&gt;TO_HEX()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;substr_hex_md5_key&lt;/code&gt;: Take the first 6 digits of &lt;code&gt;hex_md5_key&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;correct_hex&lt;/code&gt;: Prepend 0x to &lt;code&gt;correct_hex&lt;/code&gt; since all hex values start with 0x&lt;/li&gt;
&lt;li&gt;&lt;code&gt;numerator&lt;/code&gt;: Convert &lt;code&gt;correct_hex&lt;/code&gt; to an integer because we want to get to a number&lt;/li&gt;
&lt;li&gt;&lt;code&gt;denominator&lt;/code&gt;: Convert 0xFFFFFF to an integer because it's the largest 6 digit hex value&lt;/li&gt;
&lt;li&gt;&lt;code&gt;consistent_rand&lt;/code&gt;: Divide &lt;code&gt;numerator&lt;/code&gt; and &lt;code&gt;denominator&lt;/code&gt; to get a value between 0 and 1&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;And putting this all together for our problem:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;CAST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FLOOR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;CAST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONCAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;0x&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SUBSTR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TO_HEX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MD5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONCAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;salt&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INT64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; 
      &lt;span class=&quot;k&quot;&gt;CAST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;0xFFFFFF&amp;#39;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INT64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INT64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;UNNEST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GENERATE_ARRAY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;ARRAY_AGG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_ids&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;UDFs&quot;&gt;UDFs&lt;a class=&quot;anchor-link&quot; href=&quot;#UDFs&quot;&gt; &lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;We've achieved the goal, but we can clean this up to save ourselves some copy and paste steps in the future. BigQuery let's us define UDFs (user defined functions):&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;OR&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;REPLACE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FUNCTION&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;project&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONSISTENT_RAND&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;STRING&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;RETURNS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FLOAT64&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;CAST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONCAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;0x&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SUBSTR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TO_HEX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MD5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INT64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; 
  &lt;span class=&quot;k&quot;&gt;CAST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;0xFFFFFF&amp;#39;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INT64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, it's a more convenient query to write:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;CAST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FLOOR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;
      &lt;span class=&quot;o&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;project&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONSISTENT_RAND&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONCAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;salt&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;INT64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;UNNEST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GENERATE_ARRAY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;ARRAY_AGG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_ids&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;Aside-on-Inverse-Transform-Sampling&quot;&gt;Aside on Inverse Transform Sampling&lt;a class=&quot;anchor-link&quot; href=&quot;#Aside-on-Inverse-Transform-Sampling&quot;&gt; &lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;Something implicit in the above example is the mapping from a uniform random number in [0,1], the result of &lt;code&gt;RAND()&lt;/code&gt; and &lt;code&gt;CONSISTENT_RAND()&lt;/code&gt;, to a uniform random number between [9, 19], the hour. It's pretty intuitive that you can take something uniform, space the points out a bit, and it stays uniform, but there's also theory behind it -- &lt;a href=&quot;https://en.wikipedia.org/wiki/Inverse_transform_sampling&quot;&gt;Inverse transform sampling&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For the uniform to uniform case we have our sampler, $ U \sim Unif(0,1) $ and our hours, $ H \sim Unif(9,19) $.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;https://en.wikipedia.org/wiki/Uniform_distribution_%28continuous%29#Cumulative_distribution_function&quot;&gt;CDF&lt;/a&gt; for H is:
$$
F(x) = \frac{x-9}{10}
$$
And we want to solve:
$$
F(F^{-1}(u)) = u \\
\frac{F^{-1}(u)-9}{10} = u \\
F^{-1}(u) = 9 + 10 * u
$$&lt;/p&gt;
&lt;p&gt;Check it out! We found $ 9 + 10 * u $ which is exactly what we've be writing in our queries: &lt;code&gt;9 + 10 * CONSISTENT_RAND(key)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Now, what if we switch the problem to something slightly different and instead of spreading out our users evenly throughout the day, we want them to spread out according to an exponential distribution. This way more users fall into earlier hours and fewer into later hours -- maybe the downstream work is easier to do early in the day before people get tired. Also let's forget about the working day hours for this part.&lt;/p&gt;
&lt;p&gt;For the uniform to exponential case we have our sampler, $ U \sim Unif(0,1) $ and our hours, $ H \sim Expon(1) $.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;https://en.wikipedia.org/wiki/Exponential_distribution#Cumulative_distribution_function&quot;&gt;CDF&lt;/a&gt; for H is:
$$
F(x) = 1 - e^{-x}
$$
And, like before, we want to solve:
$$
F(F^{-1}(u)) = u \\
1 - e^{-F^{-1}(u)} = u \\
e^{-F^{-1}(u)} = 1 - u \\
-F^{-1}(u) = ln(1 - u) \\
F^{-1}(u) = -ln(1 - u)
$$&lt;/p&gt;
&lt;p&gt;In BigQuery we can write &lt;code&gt;-1 * LN(1 - CONSISTENT_RAND(key))&lt;/code&gt; and our groups will follow the exponential distribution.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;A/B-tests&quot;&gt;A/B tests&lt;a class=&quot;anchor-link&quot; href=&quot;#A/B-tests&quot;&gt; &lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;You might be asking, what does this have to do with A/B tests? When creating an A/B test, we often want to:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Randomly and consistently place users into test groups&lt;/li&gt;
&lt;li&gt;Allow new users to get into existing groups as they arrive&lt;/li&gt;
&lt;li&gt;Make sure those assignments don't change over time&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This turns out to be very similar to what we have laid out above and we can show it with a quick, familiar query. Our goal is to split our 10,000 users into two evenly sized groups, &lt;code&gt;A&lt;/code&gt; and &lt;code&gt;B&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;project&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONSISTENT_RAND&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CONCAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;ab_test_1&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;UNNEST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GENERATE_ARRAY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; 
  &lt;span class=&quot;k&quot;&gt;CASE&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;WHEN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;THEN&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;A&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;ELSE&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;B&amp;#39;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;END&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test_group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;ARRAY_AGG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_ids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;COUNT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;group_size&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;src&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test_group&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test_group&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If we use the combination of &lt;code&gt;user_id&lt;/code&gt; and the name of the test as the salt, &lt;code&gt;ab_test_1&lt;/code&gt;, then we can make sure that a user will always be in the same group for that test. And since our pipeline runs many times during the day, any new users will automatically be placed into a group during each run. Last, if we wanted to change from equal group sizes, then we can simply change the &lt;code&gt;0.5&lt;/code&gt; split to any number within &lt;code&gt;[0,1]&lt;/code&gt;.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;Conclusion&quot;&gt;Conclusion&lt;a class=&quot;anchor-link&quot; href=&quot;#Conclusion&quot;&gt; &lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;In the end, we've created a tidy UDF in BigQuery to help create random and consistent values that we can use for making A/B test groups and when working within idempotent data pipelines.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</content><author><name>bbernst</name></author><category term="bigquery" /><category term="ab tests" /><summary type="html"></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://bbernst.github.io/blog/images/bigquery-ab-tests/dists.png" /><media:content medium="image" url="https://bbernst.github.io/blog/images/bigquery-ab-tests/dists.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">COVID-19 plots</title><link href="https://bbernst.github.io/blog/healthcare/covid/2020/07/19/covid-plots.html" rel="alternate" type="text/html" title="COVID-19 plots" /><published>2020-07-19T00:00:00-05:00</published><updated>2020-07-19T00:00:00-05:00</updated><id>https://bbernst.github.io/blog/healthcare/covid/2020/07/19/covid-plots</id><content type="html" xml:base="https://bbernst.github.io/blog/healthcare/covid/2020/07/19/covid-plots.html">&lt;!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-07-19-covid-plots.ipynb
--&gt;

&lt;div class=&quot;container&quot; id=&quot;notebook-container&quot;&gt;
        
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;p&gt;I wanted to make a simple COVID-19 post to accomplish two main goals:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Easily see the specific plots I'm interested in&lt;/li&gt;
&lt;li&gt;Update these plots every day, automatically&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Enter &lt;a href=&quot;https://github.com/fastai/fastpages&quot;&gt;fastpages&lt;/a&gt; and &lt;a href=&quot;https://github.com/features/actions&quot;&gt;github actions&lt;/a&gt;. I'd been meaning to set up a blog with fastpages for a while and thought this would be a good reason to try it out. The documentation was great and I was able to set up automatic updates by using &lt;a href=&quot;https://covid19dashboards.com/&quot;&gt;https://covid19dashboards.com/&lt;/a&gt; as a guide.&lt;/p&gt;
&lt;p&gt;The data for this post comes from &lt;a href=&quot;https://covidtracking.com/&quot;&gt;https://covidtracking.com/&lt;/a&gt;, which updates by 5pm each day, and I have my dashboard update at 6:30pm. For each geography -- so far that's the US, New York, and Non Tri-State -- I look at daily positive cases, positive rate, and deaths. Be sure to hover around on each of the plots, they have helpful interactive tooltips to make reading the data more intuitive.&lt;/p&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;details class=&quot;description&quot;&gt;
      &lt;summary class=&quot;btn btn-sm&quot; data-open=&quot;Hide Code&quot; data-close=&quot;Show Code&quot;&gt;&lt;/summary&gt;
        &lt;p&gt;&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;typing&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Callable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Literal&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pandas&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pd&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;altair&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;alt&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/p&gt;
    &lt;/details&gt;
&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;

&lt;div class=&quot;output_subarea output_stream output_stdout output_text&quot;&gt;
&lt;pre&gt;Last updated at (ET): 2021-02-22 04:13:45 AM
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;Data&quot;&gt;Data&lt;a class=&quot;anchor-link&quot; href=&quot;#Data&quot;&gt; &lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;https://covidtracking.com/api/states/daily.csv&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;Helpers&quot;&gt;Helpers&lt;a class=&quot;anchor-link&quot; href=&quot;#Helpers&quot;&gt; &lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;details class=&quot;description&quot;&gt;
      &lt;summary class=&quot;btn btn-sm&quot; data-open=&quot;Hide Code&quot; data-close=&quot;Show Code&quot;&gt;&lt;/summary&gt;
        &lt;p&gt;&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DataFrame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
              &lt;span class=&quot;n&quot;&gt;filter_f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Callable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
              &lt;span class=&quot;n&quot;&gt;state_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;out_df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
     &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;
     &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_datetime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;%Y%m&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%d&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
     &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;filter_f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:]&lt;/span&gt;
     &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;groupby&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Series&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;dict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
         &lt;span class=&quot;n&quot;&gt;totalTestResultsIncrease&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;totalTestResultsIncrease&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
         &lt;span class=&quot;n&quot;&gt;positiveIncrease&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;positiveIncrease&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
         &lt;span class=&quot;n&quot;&gt;death&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;death&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
         &lt;span class=&quot;n&quot;&gt;deathIncrease&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;deathIncrease&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
     &lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
     &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reset_index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
     &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;positiveRate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;positiveIncrease&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;totalTestResultsIncrease&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
     &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sort_values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ascending&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;state_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
     &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reset_index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;drop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out_df&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/p&gt;
    &lt;/details&gt;
&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;details class=&quot;description&quot;&gt;
      &lt;summary class=&quot;btn btn-sm&quot; data-open=&quot;Hide Code&quot; data-close=&quot;Show Code&quot;&gt;&lt;/summary&gt;
        &lt;p&gt;&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create_plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DataFrame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                &lt;span class=&quot;n&quot;&gt;column&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Literal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;totalTestResultsIncrease&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                                &lt;span class=&quot;s1&quot;&gt;&amp;#39;positiveIncrease&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                                &lt;span class=&quot;s1&quot;&gt;&amp;#39;death&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                &lt;span class=&quot;s1&quot;&gt;&amp;#39;deathIncrease&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                                &lt;span class=&quot;s1&quot;&gt;&amp;#39;positiveRate&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;period&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
     &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;
     &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sma7d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rolling&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
     &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_datetime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;today&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;period&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Timedelta&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;1 days&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:]&lt;/span&gt;
     &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reset_index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;drop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;the_state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;state&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;selection_single&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;encodings&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;x&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;mouseover&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nearest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;none&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    
    &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Chart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark_point&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;75&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;date:T&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;:Q&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;tooltip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;:Q&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sma7d:Q&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;sma&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Chart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;purple&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;date:T&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;sma7d:Q&amp;#39;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;layers&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;layer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sma&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;# add a rule mark to serve as a guide line&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Chart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark_rule&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;#aaa&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;date:T&amp;#39;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;transform_filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;# add circle marks for selected time points, hide unselected points&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark_circle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;opacity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;condition&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add_selection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;# add white stroked text to provide a legible background for labels&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;align&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;left&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stroke&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;white&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strokeWidth&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;:Q&amp;#39;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;transform_filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;# add text labels&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mark_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;align&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;left&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;:Q&amp;#39;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;transform_filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
        
        &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;the_state&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;400&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;layers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;interactive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/p&gt;
    &lt;/details&gt;
&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h1 id=&quot;Plots&quot;&gt;Plots&lt;a class=&quot;anchor-link&quot; href=&quot;#Plots&quot;&gt; &lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;US&quot;&gt;US&lt;a class=&quot;anchor-link&quot; href=&quot;#US&quot;&gt; &lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;us&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;create_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;US&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create_plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;us&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;positiveIncrease&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;

&lt;div id=&quot;altair-viz-c092d988ee9949cb80cd32498ededc87&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== &quot;altair-viz-c092d988ee9949cb80cd32498ededc87&quot;) {
      outputDiv = document.getElementById(&quot;altair-viz-c092d988ee9949cb80cd32498ededc87&quot;);
    }
    const paths = {
      &quot;vega&quot;: &quot;https://cdn.jsdelivr.net/npm//vega@5?noext&quot;,
      &quot;vega-lib&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lib?noext&quot;,
      &quot;vega-lite&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext&quot;,
      &quot;vega-embed&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-embed@6?noext&quot;,
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName(&quot;head&quot;)[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class=&quot;error&quot; style=&quot;color:red;&quot;&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === &quot;function&quot; &amp;&amp; define.amd) {
      requirejs.config({paths});
      require([&quot;vega-embed&quot;], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === &quot;function&quot;) {
      displayChart(vegaEmbed);
    } else {
      loadScript(&quot;vega&quot;)
        .then(() =&gt; loadScript(&quot;vega-lite&quot;))
        .then(() =&gt; loadScript(&quot;vega-embed&quot;))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({&quot;config&quot;: {&quot;view&quot;: {&quot;continuousWidth&quot;: 400, &quot;continuousHeight&quot;: 300}}, &quot;layer&quot;: [{&quot;layer&quot;: [{&quot;mark&quot;: {&quot;type&quot;: &quot;point&quot;, &quot;size&quot;: 75}, &quot;encoding&quot;: {&quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}}, &quot;selection&quot;: {&quot;selector002&quot;: {&quot;type&quot;: &quot;interval&quot;, &quot;bind&quot;: &quot;scales&quot;, &quot;encodings&quot;: [&quot;x&quot;, &quot;y&quot;]}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;line&quot;, &quot;color&quot;: &quot;purple&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;rule&quot;, &quot;color&quot;: &quot;#aaa&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector001&quot;}}]}, {&quot;mark&quot;: &quot;circle&quot;, &quot;encoding&quot;: {&quot;opacity&quot;: {&quot;condition&quot;: {&quot;value&quot;: 1, &quot;selection&quot;: &quot;selector001&quot;}, &quot;value&quot;: 0}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}}, &quot;selection&quot;: {&quot;selector001&quot;: {&quot;type&quot;: &quot;single&quot;, &quot;encodings&quot;: [&quot;x&quot;], &quot;on&quot;: &quot;mouseover&quot;, &quot;nearest&quot;: true, &quot;empty&quot;: &quot;none&quot;}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5, &quot;stroke&quot;: &quot;white&quot;, &quot;strokeWidth&quot;: 2}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector001&quot;}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector001&quot;}}]}], &quot;data&quot;: {&quot;name&quot;: &quot;data-dd10f8e267d091adccb20abdadc42103&quot;}, &quot;height&quot;: 400, &quot;title&quot;: &quot;US: positiveIncrease&quot;, &quot;width&quot;: 500, &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v4.8.1.json&quot;, &quot;datasets&quot;: {&quot;data-dd10f8e267d091adccb20abdadc42103&quot;: [{&quot;date&quot;: &quot;2020-12-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1322227.0, &quot;positiveIncrease&quot;: 199679.0, &quot;death&quot;: 329605.0, &quot;deathIncrease&quot;: 3289.0, &quot;positiveRate&quot;: 0.151, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 180849.429}, {&quot;date&quot;: &quot;2020-12-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1568065.0, &quot;positiveIncrease&quot;: 229496.0, &quot;death&quot;: 333505.0, &quot;deathIncrease&quot;: 3900.0, &quot;positiveRate&quot;: 0.146, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 181559.429}, {&quot;date&quot;: &quot;2020-12-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1785816.0, &quot;positiveIncrease&quot;: 226246.0, &quot;death&quot;: 336802.0, &quot;deathIncrease&quot;: 3297.0, &quot;positiveRate&quot;: 0.127, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 184354.0}, {&quot;date&quot;: &quot;2021-01-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1395406.0, &quot;positiveIncrease&quot;: 182906.0, &quot;death&quot;: 339394.0, &quot;deathIncrease&quot;: 2592.0, &quot;positiveRate&quot;: 0.131, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 192369.714}, {&quot;date&quot;: &quot;2021-01-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2104010.0, &quot;positiveIncrease&quot;: 280318.0, &quot;death&quot;: 341800.0, &quot;deathIncrease&quot;: 2406.0, &quot;positiveRate&quot;: 0.133, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 205187.429}, {&quot;date&quot;: &quot;2021-01-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1429565.0, &quot;positiveIncrease&quot;: 208457.0, &quot;death&quot;: 343255.0, &quot;deathIncrease&quot;: 1455.0, &quot;positiveRate&quot;: 0.146, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 213032.714}, {&quot;date&quot;: &quot;2021-01-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1581745.0, &quot;positiveIncrease&quot;: 179571.0, &quot;death&quot;: 344802.0, &quot;deathIncrease&quot;: 1547.0, &quot;positiveRate&quot;: 0.114, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 215239.0}, {&quot;date&quot;: &quot;2021-01-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1714814.0, &quot;positiveIncrease&quot;: 219075.0, &quot;death&quot;: 348286.0, &quot;deathIncrease&quot;: 3484.0, &quot;positiveRate&quot;: 0.128, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 218009.857}, {&quot;date&quot;: &quot;2021-01-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1638284.0, &quot;positiveIncrease&quot;: 250184.0, &quot;death&quot;: 352188.0, &quot;deathIncrease&quot;: 3902.0, &quot;positiveRate&quot;: 0.153, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 220965.286}, {&quot;date&quot;: &quot;2021-01-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1946262.0, &quot;positiveIncrease&quot;: 272043.0, &quot;death&quot;: 356267.0, &quot;deathIncrease&quot;: 4079.0, &quot;positiveRate&quot;: 0.14, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 227507.714}, {&quot;date&quot;: &quot;2021-01-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2163546.0, &quot;positiveIncrease&quot;: 295121.0, &quot;death&quot;: 360047.0, &quot;deathIncrease&quot;: 3780.0, &quot;positiveRate&quot;: 0.136, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 243538.429}, {&quot;date&quot;: &quot;2021-01-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2111681.0, &quot;positiveIncrease&quot;: 269368.0, &quot;death&quot;: 363584.0, &quot;deathIncrease&quot;: 3537.0, &quot;positiveRate&quot;: 0.128, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 241974.143}, {&quot;date&quot;: &quot;2021-01-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2024548.0, &quot;positiveIncrease&quot;: 228732.0, &quot;death&quot;: 365652.0, &quot;deathIncrease&quot;: 2068.0, &quot;positiveRate&quot;: 0.113, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 244870.571}, {&quot;date&quot;: &quot;2021-01-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1867076.0, &quot;positiveIncrease&quot;: 195255.0, &quot;death&quot;: 367385.0, &quot;deathIncrease&quot;: 1733.0, &quot;positiveRate&quot;: 0.105, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 247111.143}, {&quot;date&quot;: &quot;2021-01-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1958786.0, &quot;positiveIncrease&quot;: 218020.0, &quot;death&quot;: 371449.0, &quot;deathIncrease&quot;: 4064.0, &quot;positiveRate&quot;: 0.111, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 246960.429}, {&quot;date&quot;: &quot;2021-01-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1839630.0, &quot;positiveIncrease&quot;: 224491.0, &quot;death&quot;: 375536.0, &quot;deathIncrease&quot;: 4087.0, &quot;positiveRate&quot;: 0.122, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 243290.0}, {&quot;date&quot;: &quot;2021-01-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2043945.0, &quot;positiveIncrease&quot;: 225616.0, &quot;death&quot;: 379451.0, &quot;deathIncrease&quot;: 3915.0, &quot;positiveRate&quot;: 0.11, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 236657.571}, {&quot;date&quot;: &quot;2021-01-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2322266.0, &quot;positiveIncrease&quot;: 246454.0, &quot;death&quot;: 383130.0, &quot;deathIncrease&quot;: 3679.0, &quot;positiveRate&quot;: 0.106, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 229705.143}, {&quot;date&quot;: &quot;2021-01-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2078818.0, &quot;positiveIncrease&quot;: 218085.0, &quot;death&quot;: 386839.0, &quot;deathIncrease&quot;: 3709.0, &quot;positiveRate&quot;: 0.105, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 222379.0}, {&quot;date&quot;: &quot;2021-01-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1892881.0, &quot;positiveIncrease&quot;: 187218.0, &quot;death&quot;: 388892.0, &quot;deathIncrease&quot;: 2053.0, &quot;positiveRate&quot;: 0.099, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 216448.429}, {&quot;date&quot;: &quot;2021-01-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2115985.0, &quot;positiveIncrease&quot;: 150792.0, &quot;death&quot;: 390287.0, &quot;deathIncrease&quot;: 1395.0, &quot;positiveRate&quot;: 0.071, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 210096.571}, {&quot;date&quot;: &quot;2021-01-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1727996.0, &quot;positiveIncrease&quot;: 146626.0, &quot;death&quot;: 392428.0, &quot;deathIncrease&quot;: 2141.0, &quot;positiveRate&quot;: 0.085, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 199897.429}, {&quot;date&quot;: &quot;2021-01-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1823829.0, &quot;positiveIncrease&quot;: 189203.0, &quot;death&quot;: 396837.0, &quot;deathIncrease&quot;: 4409.0, &quot;positiveRate&quot;: 0.104, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 194856.286}, {&quot;date&quot;: &quot;2021-01-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1935268.0, &quot;positiveIncrease&quot;: 186275.0, &quot;death&quot;: 400715.0, &quot;deathIncrease&quot;: 3878.0, &quot;positiveRate&quot;: 0.096, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 189236.143}, {&quot;date&quot;: &quot;2021-01-22T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2032714.0, &quot;positiveIncrease&quot;: 190915.0, &quot;death&quot;: 404695.0, &quot;deathIncrease&quot;: 3980.0, &quot;positiveRate&quot;: 0.094, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 181302.0}, {&quot;date&quot;: &quot;2021-01-23T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1968395.0, &quot;positiveIncrease&quot;: 177118.0, &quot;death&quot;: 408286.0, &quot;deathIncrease&quot;: 3591.0, &quot;positiveRate&quot;: 0.09, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 175449.571}, {&quot;date&quot;: &quot;2021-01-24T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1764476.0, &quot;positiveIncrease&quot;: 144234.0, &quot;death&quot;: 410230.0, &quot;deathIncrease&quot;: 1944.0, &quot;positiveRate&quot;: 0.082, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 169309.0}, {&quot;date&quot;: &quot;2021-01-25T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1720880.0, &quot;positiveIncrease&quot;: 133454.0, &quot;death&quot;: 411823.0, &quot;deathIncrease&quot;: 1593.0, &quot;positiveRate&quot;: 0.078, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 166832.143}, {&quot;date&quot;: &quot;2021-01-26T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1725082.0, &quot;positiveIncrease&quot;: 146448.0, &quot;death&quot;: 415557.0, &quot;deathIncrease&quot;: 3734.0, &quot;positiveRate&quot;: 0.085, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 166806.714}, {&quot;date&quot;: &quot;2021-01-27T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1654456.0, &quot;positiveIncrease&quot;: 153985.0, &quot;death&quot;: 419634.0, &quot;deathIncrease&quot;: 4077.0, &quot;positiveRate&quot;: 0.093, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 161775.571}, {&quot;date&quot;: &quot;2021-01-28T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1951285.0, &quot;positiveIncrease&quot;: 157306.0, &quot;death&quot;: 423645.0, &quot;deathIncrease&quot;: 4011.0, &quot;positiveRate&quot;: 0.081, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 157637.143}, {&quot;date&quot;: &quot;2021-01-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1952298.0, &quot;positiveIncrease&quot;: 167111.0, &quot;death&quot;: 427148.0, &quot;deathIncrease&quot;: 3503.0, &quot;positiveRate&quot;: 0.086, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 154236.571}, {&quot;date&quot;: &quot;2021-01-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2157704.0, &quot;positiveIncrease&quot;: 148824.0, &quot;death&quot;: 430130.0, &quot;deathIncrease&quot;: 2982.0, &quot;positiveRate&quot;: 0.069, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 150194.571}, {&quot;date&quot;: &quot;2021-01-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1716062.0, &quot;positiveIncrease&quot;: 119367.0, &quot;death&quot;: 432189.0, &quot;deathIncrease&quot;: 2059.0, &quot;positiveRate&quot;: 0.07, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 146642.143}, {&quot;date&quot;: &quot;2021-02-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1633780.0, &quot;positiveIncrease&quot;: 120200.0, &quot;death&quot;: 433751.0, &quot;deathIncrease&quot;: 1562.0, &quot;positiveRate&quot;: 0.074, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 144748.714}, {&quot;date&quot;: &quot;2021-02-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1402996.0, &quot;positiveIncrease&quot;: 117616.0, &quot;death&quot;: 437237.0, &quot;deathIncrease&quot;: 3486.0, &quot;positiveRate&quot;: 0.084, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 140629.857}, {&quot;date&quot;: &quot;2021-02-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1442998.0, &quot;positiveIncrease&quot;: 116960.0, &quot;death&quot;: 440922.0, &quot;deathIncrease&quot;: 3685.0, &quot;positiveRate&quot;: 0.081, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 135340.571}, {&quot;date&quot;: &quot;2021-02-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1678444.0, &quot;positiveIncrease&quot;: 123907.0, &quot;death&quot;: 446134.0, &quot;deathIncrease&quot;: 5212.0, &quot;positiveRate&quot;: 0.074, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 130569.286}, {&quot;date&quot;: &quot;2021-02-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1879114.0, &quot;positiveIncrease&quot;: 131146.0, &quot;death&quot;: 449677.0, &quot;deathIncrease&quot;: 3543.0, &quot;positiveRate&quot;: 0.07, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 125431.429}, {&quot;date&quot;: &quot;2021-02-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1881694.0, &quot;positiveIncrease&quot;: 114557.0, &quot;death&quot;: 452671.0, &quot;deathIncrease&quot;: 2994.0, &quot;positiveRate&quot;: 0.061, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 120536.143}, {&quot;date&quot;: &quot;2021-02-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1498467.0, &quot;positiveIncrease&quot;: 95994.0, &quot;death&quot;: 454146.0, &quot;deathIncrease&quot;: 1475.0, &quot;positiveRate&quot;: 0.064, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 117197.143}, {&quot;date&quot;: &quot;2021-02-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1434298.0, &quot;positiveIncrease&quot;: 77737.0, &quot;death&quot;: 455455.0, &quot;deathIncrease&quot;: 1309.0, &quot;positiveRate&quot;: 0.054, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 111131.0}, {&quot;date&quot;: &quot;2021-02-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1502502.0, &quot;positiveIncrease&quot;: 92986.0, &quot;death&quot;: 458250.0, &quot;deathIncrease&quot;: 2795.0, &quot;positiveRate&quot;: 0.062, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 107612.429}, {&quot;date&quot;: &quot;2021-02-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1393156.0, &quot;positiveIncrease&quot;: 95194.0, &quot;death&quot;: 461695.0, &quot;deathIncrease&quot;: 3445.0, &quot;positiveRate&quot;: 0.068, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 104503.0}, {&quot;date&quot;: &quot;2021-02-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1872586.0, &quot;positiveIncrease&quot;: 102417.0, &quot;death&quot;: 465568.0, &quot;deathIncrease&quot;: 3873.0, &quot;positiveRate&quot;: 0.055, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 101433.0}, {&quot;date&quot;: &quot;2021-02-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1818832.0, &quot;positiveIncrease&quot;: 101030.0, &quot;death&quot;: 470995.0, &quot;deathIncrease&quot;: 5427.0, &quot;positiveRate&quot;: 0.056, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 97130.714}, {&quot;date&quot;: &quot;2021-02-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1767185.0, &quot;positiveIncrease&quot;: 90642.0, &quot;death&quot;: 474462.0, &quot;deathIncrease&quot;: 3467.0, &quot;positiveRate&quot;: 0.051, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 93714.286}, {&quot;date&quot;: &quot;2021-02-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1433952.0, &quot;positiveIncrease&quot;: 72164.0, &quot;death&quot;: 475828.0, &quot;deathIncrease&quot;: 1366.0, &quot;positiveRate&quot;: 0.05, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 90310.0}, {&quot;date&quot;: &quot;2021-02-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1133232.0, &quot;positiveIncrease&quot;: 55077.0, &quot;death&quot;: 476906.0, &quot;deathIncrease&quot;: 1078.0, &quot;positiveRate&quot;: 0.049, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 87072.857}, {&quot;date&quot;: &quot;2021-02-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1060442.0, &quot;positiveIncrease&quot;: 56312.0, &quot;death&quot;: 478259.0, &quot;deathIncrease&quot;: 1353.0, &quot;positiveRate&quot;: 0.053, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 81833.714}, {&quot;date&quot;: &quot;2021-02-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1344655.0, &quot;positiveIncrease&quot;: 66839.0, &quot;death&quot;: 480607.0, &quot;deathIncrease&quot;: 2348.0, &quot;positiveRate&quot;: 0.05, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 77783.0}, {&quot;date&quot;: &quot;2021-02-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1356782.0, &quot;positiveIncrease&quot;: 66824.0, &quot;death&quot;: 483223.0, &quot;deathIncrease&quot;: 2616.0, &quot;positiveRate&quot;: 0.049, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 72698.286}, {&quot;date&quot;: &quot;2021-02-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1878276.0, &quot;positiveIncrease&quot;: 74676.0, &quot;death&quot;: 485700.0, &quot;deathIncrease&quot;: 2477.0, &quot;positiveRate&quot;: 0.04, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 68933.429}, {&quot;date&quot;: &quot;2021-02-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1274526.0, &quot;positiveIncrease&quot;: 71951.0, &quot;death&quot;: 487774.0, &quot;deathIncrease&quot;: 2074.0, &quot;positiveRate&quot;: 0.056, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 66263.286}, {&quot;date&quot;: &quot;2021-02-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1225773.0, &quot;positiveIncrease&quot;: 58429.0, &quot;death&quot;: 488771.0, &quot;deathIncrease&quot;: 1286.0, &quot;positiveRate&quot;: 0.048, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 64301.143}]}}, {&quot;mode&quot;: &quot;vega-lite&quot;});
&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create_plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;us&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;positiveRate&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;

&lt;div id=&quot;altair-viz-c7d7e9d2b23c4947a555ba70090ccce1&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== &quot;altair-viz-c7d7e9d2b23c4947a555ba70090ccce1&quot;) {
      outputDiv = document.getElementById(&quot;altair-viz-c7d7e9d2b23c4947a555ba70090ccce1&quot;);
    }
    const paths = {
      &quot;vega&quot;: &quot;https://cdn.jsdelivr.net/npm//vega@5?noext&quot;,
      &quot;vega-lib&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lib?noext&quot;,
      &quot;vega-lite&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext&quot;,
      &quot;vega-embed&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-embed@6?noext&quot;,
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName(&quot;head&quot;)[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class=&quot;error&quot; style=&quot;color:red;&quot;&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === &quot;function&quot; &amp;&amp; define.amd) {
      requirejs.config({paths});
      require([&quot;vega-embed&quot;], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === &quot;function&quot;) {
      displayChart(vegaEmbed);
    } else {
      loadScript(&quot;vega&quot;)
        .then(() =&gt; loadScript(&quot;vega-lite&quot;))
        .then(() =&gt; loadScript(&quot;vega-embed&quot;))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({&quot;config&quot;: {&quot;view&quot;: {&quot;continuousWidth&quot;: 400, &quot;continuousHeight&quot;: 300}}, &quot;layer&quot;: [{&quot;layer&quot;: [{&quot;mark&quot;: {&quot;type&quot;: &quot;point&quot;, &quot;size&quot;: 75}, &quot;encoding&quot;: {&quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}}, &quot;selection&quot;: {&quot;selector004&quot;: {&quot;type&quot;: &quot;interval&quot;, &quot;bind&quot;: &quot;scales&quot;, &quot;encodings&quot;: [&quot;x&quot;, &quot;y&quot;]}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;line&quot;, &quot;color&quot;: &quot;purple&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;rule&quot;, &quot;color&quot;: &quot;#aaa&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector003&quot;}}]}, {&quot;mark&quot;: &quot;circle&quot;, &quot;encoding&quot;: {&quot;opacity&quot;: {&quot;condition&quot;: {&quot;value&quot;: 1, &quot;selection&quot;: &quot;selector003&quot;}, &quot;value&quot;: 0}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}}, &quot;selection&quot;: {&quot;selector003&quot;: {&quot;type&quot;: &quot;single&quot;, &quot;encodings&quot;: [&quot;x&quot;], &quot;on&quot;: &quot;mouseover&quot;, &quot;nearest&quot;: true, &quot;empty&quot;: &quot;none&quot;}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5, &quot;stroke&quot;: &quot;white&quot;, &quot;strokeWidth&quot;: 2}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector003&quot;}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector003&quot;}}]}], &quot;data&quot;: {&quot;name&quot;: &quot;data-715f13a17a54569677adc788fbe66419&quot;}, &quot;height&quot;: 400, &quot;title&quot;: &quot;US: positiveRate&quot;, &quot;width&quot;: 500, &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v4.8.1.json&quot;, &quot;datasets&quot;: {&quot;data-715f13a17a54569677adc788fbe66419&quot;: [{&quot;date&quot;: &quot;2020-12-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1322227.0, &quot;positiveIncrease&quot;: 199679.0, &quot;death&quot;: 329605.0, &quot;deathIncrease&quot;: 3289.0, &quot;positiveRate&quot;: 0.151, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.112}, {&quot;date&quot;: &quot;2020-12-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1568065.0, &quot;positiveIncrease&quot;: 229496.0, &quot;death&quot;: 333505.0, &quot;deathIncrease&quot;: 3900.0, &quot;positiveRate&quot;: 0.146, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.115}, {&quot;date&quot;: &quot;2020-12-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1785816.0, &quot;positiveIncrease&quot;: 226246.0, &quot;death&quot;: 336802.0, &quot;deathIncrease&quot;: 3297.0, &quot;positiveRate&quot;: 0.127, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.118}, {&quot;date&quot;: &quot;2021-01-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1395406.0, &quot;positiveIncrease&quot;: 182906.0, &quot;death&quot;: 339394.0, &quot;deathIncrease&quot;: 2592.0, &quot;positiveRate&quot;: 0.131, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.124}, {&quot;date&quot;: &quot;2021-01-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2104010.0, &quot;positiveIncrease&quot;: 280318.0, &quot;death&quot;: 341800.0, &quot;deathIncrease&quot;: 2406.0, &quot;positiveRate&quot;: 0.133, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.13}, {&quot;date&quot;: &quot;2021-01-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1429565.0, &quot;positiveIncrease&quot;: 208457.0, &quot;death&quot;: 343255.0, &quot;deathIncrease&quot;: 1455.0, &quot;positiveRate&quot;: 0.146, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.135}, {&quot;date&quot;: &quot;2021-01-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1581745.0, &quot;positiveIncrease&quot;: 179571.0, &quot;death&quot;: 344802.0, &quot;deathIncrease&quot;: 1547.0, &quot;positiveRate&quot;: 0.114, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.135}, {&quot;date&quot;: &quot;2021-01-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1714814.0, &quot;positiveIncrease&quot;: 219075.0, &quot;death&quot;: 348286.0, &quot;deathIncrease&quot;: 3484.0, &quot;positiveRate&quot;: 0.128, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.132}, {&quot;date&quot;: &quot;2021-01-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1638284.0, &quot;positiveIncrease&quot;: 250184.0, &quot;death&quot;: 352188.0, &quot;deathIncrease&quot;: 3902.0, &quot;positiveRate&quot;: 0.153, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.133}, {&quot;date&quot;: &quot;2021-01-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1946262.0, &quot;positiveIncrease&quot;: 272043.0, &quot;death&quot;: 356267.0, &quot;deathIncrease&quot;: 4079.0, &quot;positiveRate&quot;: 0.14, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.135}, {&quot;date&quot;: &quot;2021-01-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2163546.0, &quot;positiveIncrease&quot;: 295121.0, &quot;death&quot;: 360047.0, &quot;deathIncrease&quot;: 3780.0, &quot;positiveRate&quot;: 0.136, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.136}, {&quot;date&quot;: &quot;2021-01-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2111681.0, &quot;positiveIncrease&quot;: 269368.0, &quot;death&quot;: 363584.0, &quot;deathIncrease&quot;: 3537.0, &quot;positiveRate&quot;: 0.128, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.135}, {&quot;date&quot;: &quot;2021-01-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2024548.0, &quot;positiveIncrease&quot;: 228732.0, &quot;death&quot;: 365652.0, &quot;deathIncrease&quot;: 2068.0, &quot;positiveRate&quot;: 0.113, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.13}, {&quot;date&quot;: &quot;2021-01-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1867076.0, &quot;positiveIncrease&quot;: 195255.0, &quot;death&quot;: 367385.0, &quot;deathIncrease&quot;: 1733.0, &quot;positiveRate&quot;: 0.105, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.129}, {&quot;date&quot;: &quot;2021-01-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1958786.0, &quot;positiveIncrease&quot;: 218020.0, &quot;death&quot;: 371449.0, &quot;deathIncrease&quot;: 4064.0, &quot;positiveRate&quot;: 0.111, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.127}, {&quot;date&quot;: &quot;2021-01-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1839630.0, &quot;positiveIncrease&quot;: 224491.0, &quot;death&quot;: 375536.0, &quot;deathIncrease&quot;: 4087.0, &quot;positiveRate&quot;: 0.122, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.122}, {&quot;date&quot;: &quot;2021-01-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2043945.0, &quot;positiveIncrease&quot;: 225616.0, &quot;death&quot;: 379451.0, &quot;deathIncrease&quot;: 3915.0, &quot;positiveRate&quot;: 0.11, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.118}, {&quot;date&quot;: &quot;2021-01-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2322266.0, &quot;positiveIncrease&quot;: 246454.0, &quot;death&quot;: 383130.0, &quot;deathIncrease&quot;: 3679.0, &quot;positiveRate&quot;: 0.106, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.114}, {&quot;date&quot;: &quot;2021-01-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2078818.0, &quot;positiveIncrease&quot;: 218085.0, &quot;death&quot;: 386839.0, &quot;deathIncrease&quot;: 3709.0, &quot;positiveRate&quot;: 0.105, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.11}, {&quot;date&quot;: &quot;2021-01-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1892881.0, &quot;positiveIncrease&quot;: 187218.0, &quot;death&quot;: 388892.0, &quot;deathIncrease&quot;: 2053.0, &quot;positiveRate&quot;: 0.099, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.108}, {&quot;date&quot;: &quot;2021-01-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2115985.0, &quot;positiveIncrease&quot;: 150792.0, &quot;death&quot;: 390287.0, &quot;deathIncrease&quot;: 1395.0, &quot;positiveRate&quot;: 0.071, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.103}, {&quot;date&quot;: &quot;2021-01-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1727996.0, &quot;positiveIncrease&quot;: 146626.0, &quot;death&quot;: 392428.0, &quot;deathIncrease&quot;: 2141.0, &quot;positiveRate&quot;: 0.085, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.1}, {&quot;date&quot;: &quot;2021-01-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1823829.0, &quot;positiveIncrease&quot;: 189203.0, &quot;death&quot;: 396837.0, &quot;deathIncrease&quot;: 4409.0, &quot;positiveRate&quot;: 0.104, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.097}, {&quot;date&quot;: &quot;2021-01-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1935268.0, &quot;positiveIncrease&quot;: 186275.0, &quot;death&quot;: 400715.0, &quot;deathIncrease&quot;: 3878.0, &quot;positiveRate&quot;: 0.096, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.095}, {&quot;date&quot;: &quot;2021-01-22T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2032714.0, &quot;positiveIncrease&quot;: 190915.0, &quot;death&quot;: 404695.0, &quot;deathIncrease&quot;: 3980.0, &quot;positiveRate&quot;: 0.094, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.093}, {&quot;date&quot;: &quot;2021-01-23T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1968395.0, &quot;positiveIncrease&quot;: 177118.0, &quot;death&quot;: 408286.0, &quot;deathIncrease&quot;: 3591.0, &quot;positiveRate&quot;: 0.09, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.091}, {&quot;date&quot;: &quot;2021-01-24T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1764476.0, &quot;positiveIncrease&quot;: 144234.0, &quot;death&quot;: 410230.0, &quot;deathIncrease&quot;: 1944.0, &quot;positiveRate&quot;: 0.082, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.089}, {&quot;date&quot;: &quot;2021-01-25T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1720880.0, &quot;positiveIncrease&quot;: 133454.0, &quot;death&quot;: 411823.0, &quot;deathIncrease&quot;: 1593.0, &quot;positiveRate&quot;: 0.078, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.09}, {&quot;date&quot;: &quot;2021-01-26T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1725082.0, &quot;positiveIncrease&quot;: 146448.0, &quot;death&quot;: 415557.0, &quot;deathIncrease&quot;: 3734.0, &quot;positiveRate&quot;: 0.085, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.09}, {&quot;date&quot;: &quot;2021-01-27T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1654456.0, &quot;positiveIncrease&quot;: 153985.0, &quot;death&quot;: 419634.0, &quot;deathIncrease&quot;: 4077.0, &quot;positiveRate&quot;: 0.093, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.088}, {&quot;date&quot;: &quot;2021-01-28T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1951285.0, &quot;positiveIncrease&quot;: 157306.0, &quot;death&quot;: 423645.0, &quot;deathIncrease&quot;: 4011.0, &quot;positiveRate&quot;: 0.081, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.086}, {&quot;date&quot;: &quot;2021-01-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1952298.0, &quot;positiveIncrease&quot;: 167111.0, &quot;death&quot;: 427148.0, &quot;deathIncrease&quot;: 3503.0, &quot;positiveRate&quot;: 0.086, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.085}, {&quot;date&quot;: &quot;2021-01-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2157704.0, &quot;positiveIncrease&quot;: 148824.0, &quot;death&quot;: 430130.0, &quot;deathIncrease&quot;: 2982.0, &quot;positiveRate&quot;: 0.069, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.082}, {&quot;date&quot;: &quot;2021-01-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1716062.0, &quot;positiveIncrease&quot;: 119367.0, &quot;death&quot;: 432189.0, &quot;deathIncrease&quot;: 2059.0, &quot;positiveRate&quot;: 0.07, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.08}, {&quot;date&quot;: &quot;2021-02-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1633780.0, &quot;positiveIncrease&quot;: 120200.0, &quot;death&quot;: 433751.0, &quot;deathIncrease&quot;: 1562.0, &quot;positiveRate&quot;: 0.074, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.08}, {&quot;date&quot;: &quot;2021-02-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1402996.0, &quot;positiveIncrease&quot;: 117616.0, &quot;death&quot;: 437237.0, &quot;deathIncrease&quot;: 3486.0, &quot;positiveRate&quot;: 0.084, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.08}, {&quot;date&quot;: &quot;2021-02-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1442998.0, &quot;positiveIncrease&quot;: 116960.0, &quot;death&quot;: 440922.0, &quot;deathIncrease&quot;: 3685.0, &quot;positiveRate&quot;: 0.081, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.078}, {&quot;date&quot;: &quot;2021-02-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1678444.0, &quot;positiveIncrease&quot;: 123907.0, &quot;death&quot;: 446134.0, &quot;deathIncrease&quot;: 5212.0, &quot;positiveRate&quot;: 0.074, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.077}, {&quot;date&quot;: &quot;2021-02-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1879114.0, &quot;positiveIncrease&quot;: 131146.0, &quot;death&quot;: 449677.0, &quot;deathIncrease&quot;: 3543.0, &quot;positiveRate&quot;: 0.07, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.075}, {&quot;date&quot;: &quot;2021-02-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1881694.0, &quot;positiveIncrease&quot;: 114557.0, &quot;death&quot;: 452671.0, &quot;deathIncrease&quot;: 2994.0, &quot;positiveRate&quot;: 0.061, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.073}, {&quot;date&quot;: &quot;2021-02-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1498467.0, &quot;positiveIncrease&quot;: 95994.0, &quot;death&quot;: 454146.0, &quot;deathIncrease&quot;: 1475.0, &quot;positiveRate&quot;: 0.064, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.073}, {&quot;date&quot;: &quot;2021-02-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1434298.0, &quot;positiveIncrease&quot;: 77737.0, &quot;death&quot;: 455455.0, &quot;deathIncrease&quot;: 1309.0, &quot;positiveRate&quot;: 0.054, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.07}, {&quot;date&quot;: &quot;2021-02-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1502502.0, &quot;positiveIncrease&quot;: 92986.0, &quot;death&quot;: 458250.0, &quot;deathIncrease&quot;: 2795.0, &quot;positiveRate&quot;: 0.062, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.067}, {&quot;date&quot;: &quot;2021-02-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1393156.0, &quot;positiveIncrease&quot;: 95194.0, &quot;death&quot;: 461695.0, &quot;deathIncrease&quot;: 3445.0, &quot;positiveRate&quot;: 0.068, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.065}, {&quot;date&quot;: &quot;2021-02-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1872586.0, &quot;positiveIncrease&quot;: 102417.0, &quot;death&quot;: 465568.0, &quot;deathIncrease&quot;: 3873.0, &quot;positiveRate&quot;: 0.055, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.062}, {&quot;date&quot;: &quot;2021-02-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1818832.0, &quot;positiveIncrease&quot;: 101030.0, &quot;death&quot;: 470995.0, &quot;deathIncrease&quot;: 5427.0, &quot;positiveRate&quot;: 0.056, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.06}, {&quot;date&quot;: &quot;2021-02-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1767185.0, &quot;positiveIncrease&quot;: 90642.0, &quot;death&quot;: 474462.0, &quot;deathIncrease&quot;: 3467.0, &quot;positiveRate&quot;: 0.051, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.059}, {&quot;date&quot;: &quot;2021-02-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1433952.0, &quot;positiveIncrease&quot;: 72164.0, &quot;death&quot;: 475828.0, &quot;deathIncrease&quot;: 1366.0, &quot;positiveRate&quot;: 0.05, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.057}, {&quot;date&quot;: &quot;2021-02-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1133232.0, &quot;positiveIncrease&quot;: 55077.0, &quot;death&quot;: 476906.0, &quot;deathIncrease&quot;: 1078.0, &quot;positiveRate&quot;: 0.049, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.056}, {&quot;date&quot;: &quot;2021-02-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1060442.0, &quot;positiveIncrease&quot;: 56312.0, &quot;death&quot;: 478259.0, &quot;deathIncrease&quot;: 1353.0, &quot;positiveRate&quot;: 0.053, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.055}, {&quot;date&quot;: &quot;2021-02-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1344655.0, &quot;positiveIncrease&quot;: 66839.0, &quot;death&quot;: 480607.0, &quot;deathIncrease&quot;: 2348.0, &quot;positiveRate&quot;: 0.05, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.052}, {&quot;date&quot;: &quot;2021-02-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1356782.0, &quot;positiveIncrease&quot;: 66824.0, &quot;death&quot;: 483223.0, &quot;deathIncrease&quot;: 2616.0, &quot;positiveRate&quot;: 0.049, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.051}, {&quot;date&quot;: &quot;2021-02-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1878276.0, &quot;positiveIncrease&quot;: 74676.0, &quot;death&quot;: 485700.0, &quot;deathIncrease&quot;: 2477.0, &quot;positiveRate&quot;: 0.04, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.049}, {&quot;date&quot;: &quot;2021-02-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1274526.0, &quot;positiveIncrease&quot;: 71951.0, &quot;death&quot;: 487774.0, &quot;deathIncrease&quot;: 2074.0, &quot;positiveRate&quot;: 0.056, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.05}, {&quot;date&quot;: &quot;2021-02-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1225773.0, &quot;positiveIncrease&quot;: 58429.0, &quot;death&quot;: 488771.0, &quot;deathIncrease&quot;: 1286.0, &quot;positiveRate&quot;: 0.048, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 0.049}]}}, {&quot;mode&quot;: &quot;vega-lite&quot;});
&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create_plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;us&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;deathIncrease&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;

&lt;div id=&quot;altair-viz-a366cd7e9a7942329da41d362e518ce2&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== &quot;altair-viz-a366cd7e9a7942329da41d362e518ce2&quot;) {
      outputDiv = document.getElementById(&quot;altair-viz-a366cd7e9a7942329da41d362e518ce2&quot;);
    }
    const paths = {
      &quot;vega&quot;: &quot;https://cdn.jsdelivr.net/npm//vega@5?noext&quot;,
      &quot;vega-lib&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lib?noext&quot;,
      &quot;vega-lite&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext&quot;,
      &quot;vega-embed&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-embed@6?noext&quot;,
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName(&quot;head&quot;)[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class=&quot;error&quot; style=&quot;color:red;&quot;&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === &quot;function&quot; &amp;&amp; define.amd) {
      requirejs.config({paths});
      require([&quot;vega-embed&quot;], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === &quot;function&quot;) {
      displayChart(vegaEmbed);
    } else {
      loadScript(&quot;vega&quot;)
        .then(() =&gt; loadScript(&quot;vega-lite&quot;))
        .then(() =&gt; loadScript(&quot;vega-embed&quot;))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({&quot;config&quot;: {&quot;view&quot;: {&quot;continuousWidth&quot;: 400, &quot;continuousHeight&quot;: 300}}, &quot;layer&quot;: [{&quot;layer&quot;: [{&quot;mark&quot;: {&quot;type&quot;: &quot;point&quot;, &quot;size&quot;: 75}, &quot;encoding&quot;: {&quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}}, &quot;selection&quot;: {&quot;selector006&quot;: {&quot;type&quot;: &quot;interval&quot;, &quot;bind&quot;: &quot;scales&quot;, &quot;encodings&quot;: [&quot;x&quot;, &quot;y&quot;]}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;line&quot;, &quot;color&quot;: &quot;purple&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;rule&quot;, &quot;color&quot;: &quot;#aaa&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector005&quot;}}]}, {&quot;mark&quot;: &quot;circle&quot;, &quot;encoding&quot;: {&quot;opacity&quot;: {&quot;condition&quot;: {&quot;value&quot;: 1, &quot;selection&quot;: &quot;selector005&quot;}, &quot;value&quot;: 0}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}}, &quot;selection&quot;: {&quot;selector005&quot;: {&quot;type&quot;: &quot;single&quot;, &quot;encodings&quot;: [&quot;x&quot;], &quot;on&quot;: &quot;mouseover&quot;, &quot;nearest&quot;: true, &quot;empty&quot;: &quot;none&quot;}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5, &quot;stroke&quot;: &quot;white&quot;, &quot;strokeWidth&quot;: 2}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector005&quot;}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector005&quot;}}]}], &quot;data&quot;: {&quot;name&quot;: &quot;data-82674cfe5a3b0f3b4db0b0fa6259b4fd&quot;}, &quot;height&quot;: 400, &quot;title&quot;: &quot;US: deathIncrease&quot;, &quot;width&quot;: 500, &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v4.8.1.json&quot;, &quot;datasets&quot;: {&quot;data-82674cfe5a3b0f3b4db0b0fa6259b4fd&quot;: [{&quot;date&quot;: &quot;2020-12-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1322227.0, &quot;positiveIncrease&quot;: 199679.0, &quot;death&quot;: 329605.0, &quot;deathIncrease&quot;: 3289.0, &quot;positiveRate&quot;: 0.151, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2215.143}, {&quot;date&quot;: &quot;2020-12-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1568065.0, &quot;positiveIncrease&quot;: 229496.0, &quot;death&quot;: 333505.0, &quot;deathIncrease&quot;: 3900.0, &quot;positiveRate&quot;: 0.146, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2287.571}, {&quot;date&quot;: &quot;2020-12-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1785816.0, &quot;positiveIncrease&quot;: 226246.0, &quot;death&quot;: 336802.0, &quot;deathIncrease&quot;: 3297.0, &quot;positiveRate&quot;: 0.127, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2336.0}, {&quot;date&quot;: &quot;2021-01-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1395406.0, &quot;positiveIncrease&quot;: 182906.0, &quot;death&quot;: 339394.0, &quot;deathIncrease&quot;: 2592.0, &quot;positiveRate&quot;: 0.131, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2484.429}, {&quot;date&quot;: &quot;2021-01-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2104010.0, &quot;positiveIncrease&quot;: 280318.0, &quot;death&quot;: 341800.0, &quot;deathIncrease&quot;: 2406.0, &quot;positiveRate&quot;: 0.133, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2624.429}, {&quot;date&quot;: &quot;2021-01-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1429565.0, &quot;positiveIncrease&quot;: 208457.0, &quot;death&quot;: 343255.0, &quot;deathIncrease&quot;: 1455.0, &quot;positiveRate&quot;: 0.146, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2632.714}, {&quot;date&quot;: &quot;2021-01-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1581745.0, &quot;positiveIncrease&quot;: 179571.0, &quot;death&quot;: 344802.0, &quot;deathIncrease&quot;: 1547.0, &quot;positiveRate&quot;: 0.114, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2640.857}, {&quot;date&quot;: &quot;2021-01-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1714814.0, &quot;positiveIncrease&quot;: 219075.0, &quot;death&quot;: 348286.0, &quot;deathIncrease&quot;: 3484.0, &quot;positiveRate&quot;: 0.128, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2668.714}, {&quot;date&quot;: &quot;2021-01-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1638284.0, &quot;positiveIncrease&quot;: 250184.0, &quot;death&quot;: 352188.0, &quot;deathIncrease&quot;: 3902.0, &quot;positiveRate&quot;: 0.153, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2669.0}, {&quot;date&quot;: &quot;2021-01-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1946262.0, &quot;positiveIncrease&quot;: 272043.0, &quot;death&quot;: 356267.0, &quot;deathIncrease&quot;: 4079.0, &quot;positiveRate&quot;: 0.14, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2780.714}, {&quot;date&quot;: &quot;2021-01-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2163546.0, &quot;positiveIncrease&quot;: 295121.0, &quot;death&quot;: 360047.0, &quot;deathIncrease&quot;: 3780.0, &quot;positiveRate&quot;: 0.136, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2950.429}, {&quot;date&quot;: &quot;2021-01-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2111681.0, &quot;positiveIncrease&quot;: 269368.0, &quot;death&quot;: 363584.0, &quot;deathIncrease&quot;: 3537.0, &quot;positiveRate&quot;: 0.128, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3112.0}, {&quot;date&quot;: &quot;2021-01-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2024548.0, &quot;positiveIncrease&quot;: 228732.0, &quot;death&quot;: 365652.0, &quot;deathIncrease&quot;: 2068.0, &quot;positiveRate&quot;: 0.113, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3199.571}, {&quot;date&quot;: &quot;2021-01-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1867076.0, &quot;positiveIncrease&quot;: 195255.0, &quot;death&quot;: 367385.0, &quot;deathIncrease&quot;: 1733.0, &quot;positiveRate&quot;: 0.105, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3226.143}, {&quot;date&quot;: &quot;2021-01-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1958786.0, &quot;positiveIncrease&quot;: 218020.0, &quot;death&quot;: 371449.0, &quot;deathIncrease&quot;: 4064.0, &quot;positiveRate&quot;: 0.111, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3309.0}, {&quot;date&quot;: &quot;2021-01-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1839630.0, &quot;positiveIncrease&quot;: 224491.0, &quot;death&quot;: 375536.0, &quot;deathIncrease&quot;: 4087.0, &quot;positiveRate&quot;: 0.122, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3335.429}, {&quot;date&quot;: &quot;2021-01-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2043945.0, &quot;positiveIncrease&quot;: 225616.0, &quot;death&quot;: 379451.0, &quot;deathIncrease&quot;: 3915.0, &quot;positiveRate&quot;: 0.11, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3312.0}, {&quot;date&quot;: &quot;2021-01-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2322266.0, &quot;positiveIncrease&quot;: 246454.0, &quot;death&quot;: 383130.0, &quot;deathIncrease&quot;: 3679.0, &quot;positiveRate&quot;: 0.106, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3297.571}, {&quot;date&quot;: &quot;2021-01-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2078818.0, &quot;positiveIncrease&quot;: 218085.0, &quot;death&quot;: 386839.0, &quot;deathIncrease&quot;: 3709.0, &quot;positiveRate&quot;: 0.105, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3322.143}, {&quot;date&quot;: &quot;2021-01-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1892881.0, &quot;positiveIncrease&quot;: 187218.0, &quot;death&quot;: 388892.0, &quot;deathIncrease&quot;: 2053.0, &quot;positiveRate&quot;: 0.099, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3320.0}, {&quot;date&quot;: &quot;2021-01-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2115985.0, &quot;positiveIncrease&quot;: 150792.0, &quot;death&quot;: 390287.0, &quot;deathIncrease&quot;: 1395.0, &quot;positiveRate&quot;: 0.071, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3271.714}, {&quot;date&quot;: &quot;2021-01-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1727996.0, &quot;positiveIncrease&quot;: 146626.0, &quot;death&quot;: 392428.0, &quot;deathIncrease&quot;: 2141.0, &quot;positiveRate&quot;: 0.085, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2997.0}, {&quot;date&quot;: &quot;2021-01-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1823829.0, &quot;positiveIncrease&quot;: 189203.0, &quot;death&quot;: 396837.0, &quot;deathIncrease&quot;: 4409.0, &quot;positiveRate&quot;: 0.104, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3043.0}, {&quot;date&quot;: &quot;2021-01-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1935268.0, &quot;positiveIncrease&quot;: 186275.0, &quot;death&quot;: 400715.0, &quot;deathIncrease&quot;: 3878.0, &quot;positiveRate&quot;: 0.096, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3037.714}, {&quot;date&quot;: &quot;2021-01-22T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2032714.0, &quot;positiveIncrease&quot;: 190915.0, &quot;death&quot;: 404695.0, &quot;deathIncrease&quot;: 3980.0, &quot;positiveRate&quot;: 0.094, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3080.714}, {&quot;date&quot;: &quot;2021-01-23T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1968395.0, &quot;positiveIncrease&quot;: 177118.0, &quot;death&quot;: 408286.0, &quot;deathIncrease&quot;: 3591.0, &quot;positiveRate&quot;: 0.09, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3063.857}, {&quot;date&quot;: &quot;2021-01-24T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1764476.0, &quot;positiveIncrease&quot;: 144234.0, &quot;death&quot;: 410230.0, &quot;deathIncrease&quot;: 1944.0, &quot;positiveRate&quot;: 0.082, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3048.286}, {&quot;date&quot;: &quot;2021-01-25T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1720880.0, &quot;positiveIncrease&quot;: 133454.0, &quot;death&quot;: 411823.0, &quot;deathIncrease&quot;: 1593.0, &quot;positiveRate&quot;: 0.078, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3076.571}, {&quot;date&quot;: &quot;2021-01-26T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1725082.0, &quot;positiveIncrease&quot;: 146448.0, &quot;death&quot;: 415557.0, &quot;deathIncrease&quot;: 3734.0, &quot;positiveRate&quot;: 0.085, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3304.143}, {&quot;date&quot;: &quot;2021-01-27T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1654456.0, &quot;positiveIncrease&quot;: 153985.0, &quot;death&quot;: 419634.0, &quot;deathIncrease&quot;: 4077.0, &quot;positiveRate&quot;: 0.093, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3256.714}, {&quot;date&quot;: &quot;2021-01-28T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1951285.0, &quot;positiveIncrease&quot;: 157306.0, &quot;death&quot;: 423645.0, &quot;deathIncrease&quot;: 4011.0, &quot;positiveRate&quot;: 0.081, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3275.714}, {&quot;date&quot;: &quot;2021-01-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1952298.0, &quot;positiveIncrease&quot;: 167111.0, &quot;death&quot;: 427148.0, &quot;deathIncrease&quot;: 3503.0, &quot;positiveRate&quot;: 0.086, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3207.571}, {&quot;date&quot;: &quot;2021-01-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 2157704.0, &quot;positiveIncrease&quot;: 148824.0, &quot;death&quot;: 430130.0, &quot;deathIncrease&quot;: 2982.0, &quot;positiveRate&quot;: 0.069, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3120.571}, {&quot;date&quot;: &quot;2021-01-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1716062.0, &quot;positiveIncrease&quot;: 119367.0, &quot;death&quot;: 432189.0, &quot;deathIncrease&quot;: 2059.0, &quot;positiveRate&quot;: 0.07, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3137.0}, {&quot;date&quot;: &quot;2021-02-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1633780.0, &quot;positiveIncrease&quot;: 120200.0, &quot;death&quot;: 433751.0, &quot;deathIncrease&quot;: 1562.0, &quot;positiveRate&quot;: 0.074, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3132.571}, {&quot;date&quot;: &quot;2021-02-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1402996.0, &quot;positiveIncrease&quot;: 117616.0, &quot;death&quot;: 437237.0, &quot;deathIncrease&quot;: 3486.0, &quot;positiveRate&quot;: 0.084, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3097.143}, {&quot;date&quot;: &quot;2021-02-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1442998.0, &quot;positiveIncrease&quot;: 116960.0, &quot;death&quot;: 440922.0, &quot;deathIncrease&quot;: 3685.0, &quot;positiveRate&quot;: 0.081, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3041.143}, {&quot;date&quot;: &quot;2021-02-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1678444.0, &quot;positiveIncrease&quot;: 123907.0, &quot;death&quot;: 446134.0, &quot;deathIncrease&quot;: 5212.0, &quot;positiveRate&quot;: 0.074, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3212.714}, {&quot;date&quot;: &quot;2021-02-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1879114.0, &quot;positiveIncrease&quot;: 131146.0, &quot;death&quot;: 449677.0, &quot;deathIncrease&quot;: 3543.0, &quot;positiveRate&quot;: 0.07, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3218.429}, {&quot;date&quot;: &quot;2021-02-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1881694.0, &quot;positiveIncrease&quot;: 114557.0, &quot;death&quot;: 452671.0, &quot;deathIncrease&quot;: 2994.0, &quot;positiveRate&quot;: 0.061, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3220.143}, {&quot;date&quot;: &quot;2021-02-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1498467.0, &quot;positiveIncrease&quot;: 95994.0, &quot;death&quot;: 454146.0, &quot;deathIncrease&quot;: 1475.0, &quot;positiveRate&quot;: 0.064, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3136.714}, {&quot;date&quot;: &quot;2021-02-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1434298.0, &quot;positiveIncrease&quot;: 77737.0, &quot;death&quot;: 455455.0, &quot;deathIncrease&quot;: 1309.0, &quot;positiveRate&quot;: 0.054, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3100.571}, {&quot;date&quot;: &quot;2021-02-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1502502.0, &quot;positiveIncrease&quot;: 92986.0, &quot;death&quot;: 458250.0, &quot;deathIncrease&quot;: 2795.0, &quot;positiveRate&quot;: 0.062, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3001.857}, {&quot;date&quot;: &quot;2021-02-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1393156.0, &quot;positiveIncrease&quot;: 95194.0, &quot;death&quot;: 461695.0, &quot;deathIncrease&quot;: 3445.0, &quot;positiveRate&quot;: 0.068, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2967.571}, {&quot;date&quot;: &quot;2021-02-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1872586.0, &quot;positiveIncrease&quot;: 102417.0, &quot;death&quot;: 465568.0, &quot;deathIncrease&quot;: 3873.0, &quot;positiveRate&quot;: 0.055, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2776.286}, {&quot;date&quot;: &quot;2021-02-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1818832.0, &quot;positiveIncrease&quot;: 101030.0, &quot;death&quot;: 470995.0, &quot;deathIncrease&quot;: 5427.0, &quot;positiveRate&quot;: 0.056, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3045.429}, {&quot;date&quot;: &quot;2021-02-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1767185.0, &quot;positiveIncrease&quot;: 90642.0, &quot;death&quot;: 474462.0, &quot;deathIncrease&quot;: 3467.0, &quot;positiveRate&quot;: 0.051, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3113.0}, {&quot;date&quot;: &quot;2021-02-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1433952.0, &quot;positiveIncrease&quot;: 72164.0, &quot;death&quot;: 475828.0, &quot;deathIncrease&quot;: 1366.0, &quot;positiveRate&quot;: 0.05, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3097.429}, {&quot;date&quot;: &quot;2021-02-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1133232.0, &quot;positiveIncrease&quot;: 55077.0, &quot;death&quot;: 476906.0, &quot;deathIncrease&quot;: 1078.0, &quot;positiveRate&quot;: 0.049, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 3064.429}, {&quot;date&quot;: &quot;2021-02-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1060442.0, &quot;positiveIncrease&quot;: 56312.0, &quot;death&quot;: 478259.0, &quot;deathIncrease&quot;: 1353.0, &quot;positiveRate&quot;: 0.053, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2858.429}, {&quot;date&quot;: &quot;2021-02-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1344655.0, &quot;positiveIncrease&quot;: 66839.0, &quot;death&quot;: 480607.0, &quot;deathIncrease&quot;: 2348.0, &quot;positiveRate&quot;: 0.05, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2701.714}, {&quot;date&quot;: &quot;2021-02-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1356782.0, &quot;positiveIncrease&quot;: 66824.0, &quot;death&quot;: 483223.0, &quot;deathIncrease&quot;: 2616.0, &quot;positiveRate&quot;: 0.049, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2522.143}, {&quot;date&quot;: &quot;2021-02-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1878276.0, &quot;positiveIncrease&quot;: 74676.0, &quot;death&quot;: 485700.0, &quot;deathIncrease&quot;: 2477.0, &quot;positiveRate&quot;: 0.04, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 2100.714}, {&quot;date&quot;: &quot;2021-02-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1274526.0, &quot;positiveIncrease&quot;: 71951.0, &quot;death&quot;: 487774.0, &quot;deathIncrease&quot;: 2074.0, &quot;positiveRate&quot;: 0.056, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 1901.714}, {&quot;date&quot;: &quot;2021-02-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1225773.0, &quot;positiveIncrease&quot;: 58429.0, &quot;death&quot;: 488771.0, &quot;deathIncrease&quot;: 1286.0, &quot;positiveRate&quot;: 0.048, &quot;state&quot;: &quot;US&quot;, &quot;sma7d&quot;: 1890.286}]}}, {&quot;mode&quot;: &quot;vega-lite&quot;});
&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;NY&quot;&gt;NY&lt;a class=&quot;anchor-link&quot; href=&quot;#NY&quot;&gt; &lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ny&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;create_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;state&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;NY&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;New York&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create_plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ny&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;positiveIncrease&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;

&lt;div id=&quot;altair-viz-6a34d8b9be6547938635d2afe697b3ec&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== &quot;altair-viz-6a34d8b9be6547938635d2afe697b3ec&quot;) {
      outputDiv = document.getElementById(&quot;altair-viz-6a34d8b9be6547938635d2afe697b3ec&quot;);
    }
    const paths = {
      &quot;vega&quot;: &quot;https://cdn.jsdelivr.net/npm//vega@5?noext&quot;,
      &quot;vega-lib&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lib?noext&quot;,
      &quot;vega-lite&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext&quot;,
      &quot;vega-embed&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-embed@6?noext&quot;,
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName(&quot;head&quot;)[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class=&quot;error&quot; style=&quot;color:red;&quot;&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === &quot;function&quot; &amp;&amp; define.amd) {
      requirejs.config({paths});
      require([&quot;vega-embed&quot;], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === &quot;function&quot;) {
      displayChart(vegaEmbed);
    } else {
      loadScript(&quot;vega&quot;)
        .then(() =&gt; loadScript(&quot;vega-lite&quot;))
        .then(() =&gt; loadScript(&quot;vega-embed&quot;))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({&quot;config&quot;: {&quot;view&quot;: {&quot;continuousWidth&quot;: 400, &quot;continuousHeight&quot;: 300}}, &quot;layer&quot;: [{&quot;layer&quot;: [{&quot;mark&quot;: {&quot;type&quot;: &quot;point&quot;, &quot;size&quot;: 75}, &quot;encoding&quot;: {&quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}}, &quot;selection&quot;: {&quot;selector008&quot;: {&quot;type&quot;: &quot;interval&quot;, &quot;bind&quot;: &quot;scales&quot;, &quot;encodings&quot;: [&quot;x&quot;, &quot;y&quot;]}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;line&quot;, &quot;color&quot;: &quot;purple&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;rule&quot;, &quot;color&quot;: &quot;#aaa&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector007&quot;}}]}, {&quot;mark&quot;: &quot;circle&quot;, &quot;encoding&quot;: {&quot;opacity&quot;: {&quot;condition&quot;: {&quot;value&quot;: 1, &quot;selection&quot;: &quot;selector007&quot;}, &quot;value&quot;: 0}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}}, &quot;selection&quot;: {&quot;selector007&quot;: {&quot;type&quot;: &quot;single&quot;, &quot;encodings&quot;: [&quot;x&quot;], &quot;on&quot;: &quot;mouseover&quot;, &quot;nearest&quot;: true, &quot;empty&quot;: &quot;none&quot;}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5, &quot;stroke&quot;: &quot;white&quot;, &quot;strokeWidth&quot;: 2}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector007&quot;}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector007&quot;}}]}], &quot;data&quot;: {&quot;name&quot;: &quot;data-dc24e1c294abf6655f17218d67b2f9b6&quot;}, &quot;height&quot;: 400, &quot;title&quot;: &quot;New York: positiveIncrease&quot;, &quot;width&quot;: 500, &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v4.8.1.json&quot;, &quot;datasets&quot;: {&quot;data-dc24e1c294abf6655f17218d67b2f9b6&quot;: [{&quot;date&quot;: &quot;2020-12-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 160164.0, &quot;positiveIncrease&quot;: 11438.0, &quot;death&quot;: 29756.0, &quot;deathIncrease&quot;: 127.0, &quot;positiveRate&quot;: 0.071, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 11032.143}, {&quot;date&quot;: &quot;2020-12-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 154949.0, &quot;positiveIncrease&quot;: 13422.0, &quot;death&quot;: 29905.0, &quot;deathIncrease&quot;: 149.0, &quot;positiveRate&quot;: 0.087, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 11244.286}, {&quot;date&quot;: &quot;2020-12-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 216587.0, &quot;positiveIncrease&quot;: 16802.0, &quot;death&quot;: 30040.0, &quot;deathIncrease&quot;: 135.0, &quot;positiveRate&quot;: 0.078, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 11849.143}, {&quot;date&quot;: &quot;2021-01-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 219253.0, &quot;positiveIncrease&quot;: 16497.0, &quot;death&quot;: 30208.0, &quot;deathIncrease&quot;: 168.0, &quot;positiveRate&quot;: 0.075, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 12427.857}, {&quot;date&quot;: &quot;2021-01-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 202446.0, &quot;positiveIncrease&quot;: 15074.0, &quot;death&quot;: 30337.0, &quot;deathIncrease&quot;: 129.0, &quot;positiveRate&quot;: 0.074, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 13037.571}, {&quot;date&quot;: &quot;2021-01-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 142345.0, &quot;positiveIncrease&quot;: 11368.0, &quot;death&quot;: 30476.0, &quot;deathIncrease&quot;: 139.0, &quot;positiveRate&quot;: 0.08, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 13572.571}, {&quot;date&quot;: &quot;2021-01-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 134360.0, &quot;positiveIncrease&quot;: 11209.0, &quot;death&quot;: 30648.0, &quot;deathIncrease&quot;: 172.0, &quot;positiveRate&quot;: 0.083, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 13687.143}, {&quot;date&quot;: &quot;2021-01-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 152402.0, &quot;positiveIncrease&quot;: 12666.0, &quot;death&quot;: 30802.0, &quot;deathIncrease&quot;: 154.0, &quot;positiveRate&quot;: 0.083, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 13862.571}, {&quot;date&quot;: &quot;2021-01-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 197816.0, &quot;positiveIncrease&quot;: 16648.0, &quot;death&quot;: 30965.0, &quot;deathIncrease&quot;: 163.0, &quot;positiveRate&quot;: 0.084, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 14323.429}, {&quot;date&quot;: &quot;2021-01-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 238550.0, &quot;positiveIncrease&quot;: 17636.0, &quot;death&quot;: 31164.0, &quot;deathIncrease&quot;: 199.0, &quot;positiveRate&quot;: 0.074, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 14442.571}, {&quot;date&quot;: &quot;2021-01-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 243903.0, &quot;positiveIncrease&quot;: 18832.0, &quot;death&quot;: 31329.0, &quot;deathIncrease&quot;: 165.0, &quot;positiveRate&quot;: 0.077, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 14776.143}, {&quot;date&quot;: &quot;2021-01-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 258031.0, &quot;positiveIncrease&quot;: 16943.0, &quot;death&quot;: 31519.0, &quot;deathIncrease&quot;: 190.0, &quot;positiveRate&quot;: 0.066, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 15043.143}, {&quot;date&quot;: &quot;2021-01-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 246836.0, &quot;positiveIncrease&quot;: 15355.0, &quot;death&quot;: 31672.0, &quot;deathIncrease&quot;: 153.0, &quot;positiveRate&quot;: 0.062, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 15612.714}, {&quot;date&quot;: &quot;2021-01-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 203904.0, &quot;positiveIncrease&quot;: 13714.0, &quot;death&quot;: 31841.0, &quot;deathIncrease&quot;: 169.0, &quot;positiveRate&quot;: 0.067, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 15970.571}, {&quot;date&quot;: &quot;2021-01-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 196671.0, &quot;positiveIncrease&quot;: 15214.0, &quot;death&quot;: 32007.0, &quot;deathIncrease&quot;: 166.0, &quot;positiveRate&quot;: 0.077, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 16334.571}, {&quot;date&quot;: &quot;2021-01-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 196868.0, &quot;positiveIncrease&quot;: 14577.0, &quot;death&quot;: 32175.0, &quot;deathIncrease&quot;: 168.0, &quot;positiveRate&quot;: 0.074, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 16038.714}, {&quot;date&quot;: &quot;2021-01-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 212589.0, &quot;positiveIncrease&quot;: 13661.0, &quot;death&quot;: 32379.0, &quot;deathIncrease&quot;: 204.0, &quot;positiveRate&quot;: 0.064, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 15470.857}, {&quot;date&quot;: &quot;2021-01-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 324671.0, &quot;positiveIncrease&quot;: 19942.0, &quot;death&quot;: 32566.0, &quot;deathIncrease&quot;: 187.0, &quot;positiveRate&quot;: 0.061, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 15629.429}, {&quot;date&quot;: &quot;2021-01-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 277286.0, &quot;positiveIncrease&quot;: 15998.0, &quot;death&quot;: 32725.0, &quot;deathIncrease&quot;: 159.0, &quot;positiveRate&quot;: 0.058, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 15494.429}, {&quot;date&quot;: &quot;2021-01-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 246507.0, &quot;positiveIncrease&quot;: 13842.0, &quot;death&quot;: 32897.0, &quot;deathIncrease&quot;: 172.0, &quot;positiveRate&quot;: 0.056, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 15278.286}, {&quot;date&quot;: &quot;2021-01-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 186205.0, &quot;positiveIncrease&quot;: 12185.0, &quot;death&quot;: 33052.0, &quot;deathIncrease&quot;: 155.0, &quot;positiveRate&quot;: 0.065, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 15059.857}, {&quot;date&quot;: &quot;2021-01-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 177269.0, &quot;positiveIncrease&quot;: 12512.0, &quot;death&quot;: 33224.0, &quot;deathIncrease&quot;: 172.0, &quot;positiveRate&quot;: 0.071, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 14673.857}, {&quot;date&quot;: &quot;2021-01-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 195409.0, &quot;positiveIncrease&quot;: 13364.0, &quot;death&quot;: 33415.0, &quot;deathIncrease&quot;: 191.0, &quot;positiveRate&quot;: 0.068, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 14500.571}, {&quot;date&quot;: &quot;2021-01-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 224569.0, &quot;positiveIncrease&quot;: 13886.0, &quot;death&quot;: 33594.0, &quot;deathIncrease&quot;: 179.0, &quot;positiveRate&quot;: 0.062, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 14532.714}, {&quot;date&quot;: &quot;2021-01-22T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 268001.0, &quot;positiveIncrease&quot;: 15144.0, &quot;death&quot;: 33763.0, &quot;deathIncrease&quot;: 169.0, &quot;positiveRate&quot;: 0.057, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 13847.286}, {&quot;date&quot;: &quot;2021-01-23T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 262106.0, &quot;positiveIncrease&quot;: 13786.0, &quot;death&quot;: 33907.0, &quot;deathIncrease&quot;: 144.0, &quot;positiveRate&quot;: 0.053, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 13531.286}, {&quot;date&quot;: &quot;2021-01-24T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 249955.0, &quot;positiveIncrease&quot;: 12720.0, &quot;death&quot;: 34069.0, &quot;deathIncrease&quot;: 162.0, &quot;positiveRate&quot;: 0.051, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 13371.0}, {&quot;date&quot;: &quot;2021-01-25T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 219538.0, &quot;positiveIncrease&quot;: 12003.0, &quot;death&quot;: 34242.0, &quot;deathIncrease&quot;: 173.0, &quot;positiveRate&quot;: 0.055, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 13345.0}, {&quot;date&quot;: &quot;2021-01-26T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 162938.0, &quot;positiveIncrease&quot;: 11064.0, &quot;death&quot;: 34407.0, &quot;deathIncrease&quot;: 165.0, &quot;positiveRate&quot;: 0.068, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 13138.143}, {&quot;date&quot;: &quot;2021-01-27T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 202661.0, &quot;positiveIncrease&quot;: 11028.0, &quot;death&quot;: 34579.0, &quot;deathIncrease&quot;: 172.0, &quot;positiveRate&quot;: 0.054, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 12804.429}, {&quot;date&quot;: &quot;2021-01-28T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 250668.0, &quot;positiveIncrease&quot;: 13398.0, &quot;death&quot;: 34742.0, &quot;deathIncrease&quot;: 163.0, &quot;positiveRate&quot;: 0.053, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 12734.714}, {&quot;date&quot;: &quot;2021-01-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 270518.0, &quot;positiveIncrease&quot;: 12579.0, &quot;death&quot;: 34893.0, &quot;deathIncrease&quot;: 151.0, &quot;positiveRate&quot;: 0.046, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 12368.286}, {&quot;date&quot;: &quot;2021-01-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 269350.0, &quot;positiveIncrease&quot;: 12804.0, &quot;death&quot;: 35036.0, &quot;deathIncrease&quot;: 143.0, &quot;positiveRate&quot;: 0.048, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 12228.0}, {&quot;date&quot;: &quot;2021-01-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 243066.0, &quot;positiveIncrease&quot;: 10793.0, &quot;death&quot;: 35178.0, &quot;deathIncrease&quot;: 142.0, &quot;positiveRate&quot;: 0.044, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 11952.714}, {&quot;date&quot;: &quot;2021-02-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 175038.0, &quot;positiveIncrease&quot;: 8508.0, &quot;death&quot;: 35319.0, &quot;deathIncrease&quot;: 141.0, &quot;positiveRate&quot;: 0.049, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 11453.429}, {&quot;date&quot;: &quot;2021-02-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 150199.0, &quot;positiveIncrease&quot;: 8215.0, &quot;death&quot;: 35466.0, &quot;deathIncrease&quot;: 147.0, &quot;positiveRate&quot;: 0.055, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 11046.429}, {&quot;date&quot;: &quot;2021-02-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 126489.0, &quot;positiveIncrease&quot;: 5925.0, &quot;death&quot;: 35631.0, &quot;deathIncrease&quot;: 165.0, &quot;positiveRate&quot;: 0.047, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 10317.429}, {&quot;date&quot;: &quot;2021-02-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 169186.0, &quot;positiveIncrease&quot;: 7414.0, &quot;death&quot;: 35767.0, &quot;deathIncrease&quot;: 136.0, &quot;positiveRate&quot;: 0.044, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 9462.571}, {&quot;date&quot;: &quot;2021-02-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 203627.0, &quot;positiveIncrease&quot;: 8777.0, &quot;death&quot;: 35920.0, &quot;deathIncrease&quot;: 153.0, &quot;positiveRate&quot;: 0.043, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 8919.429}, {&quot;date&quot;: &quot;2021-02-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 261285.0, &quot;positiveIncrease&quot;: 11252.0, &quot;death&quot;: 36079.0, &quot;deathIncrease&quot;: 159.0, &quot;positiveRate&quot;: 0.043, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 8697.714}, {&quot;date&quot;: &quot;2021-02-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 250892.0, &quot;positiveIncrease&quot;: 10025.0, &quot;death&quot;: 36224.0, &quot;deathIncrease&quot;: 145.0, &quot;positiveRate&quot;: 0.04, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 8588.0}, {&quot;date&quot;: &quot;2021-02-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 197183.0, &quot;positiveIncrease&quot;: 8448.0, &quot;death&quot;: 36339.0, &quot;deathIncrease&quot;: 115.0, &quot;positiveRate&quot;: 0.043, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 8579.429}, {&quot;date&quot;: &quot;2021-02-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 153648.0, &quot;positiveIncrease&quot;: 7866.0, &quot;death&quot;: 36481.0, &quot;deathIncrease&quot;: 142.0, &quot;positiveRate&quot;: 0.051, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 8529.571}, {&quot;date&quot;: &quot;2021-02-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 176750.0, &quot;positiveIncrease&quot;: 7101.0, &quot;death&quot;: 36619.0, &quot;deathIncrease&quot;: 138.0, &quot;positiveRate&quot;: 0.04, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 8697.571}, {&quot;date&quot;: &quot;2021-02-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 285499.0, &quot;positiveIncrease&quot;: 10099.0, &quot;death&quot;: 36743.0, &quot;deathIncrease&quot;: 124.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 9081.143}, {&quot;date&quot;: &quot;2021-02-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 237134.0, &quot;positiveIncrease&quot;: 8404.0, &quot;death&quot;: 36882.0, &quot;deathIncrease&quot;: 139.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 9027.857}, {&quot;date&quot;: &quot;2021-02-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 253563.0, &quot;positiveIncrease&quot;: 8763.0, &quot;death&quot;: 37009.0, &quot;deathIncrease&quot;: 127.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 8672.286}, {&quot;date&quot;: &quot;2021-02-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 234708.0, &quot;positiveIncrease&quot;: 8316.0, &quot;death&quot;: 37118.0, &quot;deathIncrease&quot;: 109.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 8428.143}, {&quot;date&quot;: &quot;2021-02-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 180504.0, &quot;positiveIncrease&quot;: 6365.0, &quot;death&quot;: 37221.0, &quot;deathIncrease&quot;: 103.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 8130.571}, {&quot;date&quot;: &quot;2021-02-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 136392.0, &quot;positiveIncrease&quot;: 6753.0, &quot;death&quot;: 37328.0, &quot;deathIncrease&quot;: 107.0, &quot;positiveRate&quot;: 0.05, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 7971.571}, {&quot;date&quot;: &quot;2021-02-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 169963.0, &quot;positiveIncrease&quot;: 6092.0, &quot;death&quot;: 37440.0, &quot;deathIncrease&quot;: 112.0, &quot;positiveRate&quot;: 0.036, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 7827.429}, {&quot;date&quot;: &quot;2021-02-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 215731.0, &quot;positiveIncrease&quot;: 6794.0, &quot;death&quot;: 37556.0, &quot;deathIncrease&quot;: 116.0, &quot;positiveRate&quot;: 0.031, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 7355.286}, {&quot;date&quot;: &quot;2021-02-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 249248.0, &quot;positiveIncrease&quot;: 8710.0, &quot;death&quot;: 37675.0, &quot;deathIncrease&quot;: 119.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 7399.0}, {&quot;date&quot;: &quot;2021-02-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 251645.0, &quot;positiveIncrease&quot;: 7692.0, &quot;death&quot;: 37776.0, &quot;deathIncrease&quot;: 101.0, &quot;positiveRate&quot;: 0.031, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 7246.0}, {&quot;date&quot;: &quot;2021-02-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 221157.0, &quot;positiveIncrease&quot;: 6610.0, &quot;death&quot;: 37851.0, &quot;deathIncrease&quot;: 75.0, &quot;positiveRate&quot;: 0.03, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 7002.286}]}}, {&quot;mode&quot;: &quot;vega-lite&quot;});
&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create_plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ny&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;positiveRate&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;

&lt;div id=&quot;altair-viz-866cb441f4544666bf63606edcb392df&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== &quot;altair-viz-866cb441f4544666bf63606edcb392df&quot;) {
      outputDiv = document.getElementById(&quot;altair-viz-866cb441f4544666bf63606edcb392df&quot;);
    }
    const paths = {
      &quot;vega&quot;: &quot;https://cdn.jsdelivr.net/npm//vega@5?noext&quot;,
      &quot;vega-lib&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lib?noext&quot;,
      &quot;vega-lite&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext&quot;,
      &quot;vega-embed&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-embed@6?noext&quot;,
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName(&quot;head&quot;)[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class=&quot;error&quot; style=&quot;color:red;&quot;&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === &quot;function&quot; &amp;&amp; define.amd) {
      requirejs.config({paths});
      require([&quot;vega-embed&quot;], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === &quot;function&quot;) {
      displayChart(vegaEmbed);
    } else {
      loadScript(&quot;vega&quot;)
        .then(() =&gt; loadScript(&quot;vega-lite&quot;))
        .then(() =&gt; loadScript(&quot;vega-embed&quot;))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({&quot;config&quot;: {&quot;view&quot;: {&quot;continuousWidth&quot;: 400, &quot;continuousHeight&quot;: 300}}, &quot;layer&quot;: [{&quot;layer&quot;: [{&quot;mark&quot;: {&quot;type&quot;: &quot;point&quot;, &quot;size&quot;: 75}, &quot;encoding&quot;: {&quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}}, &quot;selection&quot;: {&quot;selector010&quot;: {&quot;type&quot;: &quot;interval&quot;, &quot;bind&quot;: &quot;scales&quot;, &quot;encodings&quot;: [&quot;x&quot;, &quot;y&quot;]}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;line&quot;, &quot;color&quot;: &quot;purple&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;rule&quot;, &quot;color&quot;: &quot;#aaa&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector009&quot;}}]}, {&quot;mark&quot;: &quot;circle&quot;, &quot;encoding&quot;: {&quot;opacity&quot;: {&quot;condition&quot;: {&quot;value&quot;: 1, &quot;selection&quot;: &quot;selector009&quot;}, &quot;value&quot;: 0}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}}, &quot;selection&quot;: {&quot;selector009&quot;: {&quot;type&quot;: &quot;single&quot;, &quot;encodings&quot;: [&quot;x&quot;], &quot;on&quot;: &quot;mouseover&quot;, &quot;nearest&quot;: true, &quot;empty&quot;: &quot;none&quot;}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5, &quot;stroke&quot;: &quot;white&quot;, &quot;strokeWidth&quot;: 2}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector009&quot;}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector009&quot;}}]}], &quot;data&quot;: {&quot;name&quot;: &quot;data-91f3bb8963cf113132944c75c3f5103f&quot;}, &quot;height&quot;: 400, &quot;title&quot;: &quot;New York: positiveRate&quot;, &quot;width&quot;: 500, &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v4.8.1.json&quot;, &quot;datasets&quot;: {&quot;data-91f3bb8963cf113132944c75c3f5103f&quot;: [{&quot;date&quot;: &quot;2020-12-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 160164.0, &quot;positiveIncrease&quot;: 11438.0, &quot;death&quot;: 29756.0, &quot;deathIncrease&quot;: 127.0, &quot;positiveRate&quot;: 0.071, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.062}, {&quot;date&quot;: &quot;2020-12-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 154949.0, &quot;positiveIncrease&quot;: 13422.0, &quot;death&quot;: 29905.0, &quot;deathIncrease&quot;: 149.0, &quot;positiveRate&quot;: 0.087, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.066}, {&quot;date&quot;: &quot;2020-12-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 216587.0, &quot;positiveIncrease&quot;: 16802.0, &quot;death&quot;: 30040.0, &quot;deathIncrease&quot;: 135.0, &quot;positiveRate&quot;: 0.078, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.07}, {&quot;date&quot;: &quot;2021-01-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 219253.0, &quot;positiveIncrease&quot;: 16497.0, &quot;death&quot;: 30208.0, &quot;deathIncrease&quot;: 168.0, &quot;positiveRate&quot;: 0.075, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.072}, {&quot;date&quot;: &quot;2021-01-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 202446.0, &quot;positiveIncrease&quot;: 15074.0, &quot;death&quot;: 30337.0, &quot;deathIncrease&quot;: 129.0, &quot;positiveRate&quot;: 0.074, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.075}, {&quot;date&quot;: &quot;2021-01-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 142345.0, &quot;positiveIncrease&quot;: 11368.0, &quot;death&quot;: 30476.0, &quot;deathIncrease&quot;: 139.0, &quot;positiveRate&quot;: 0.08, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.078}, {&quot;date&quot;: &quot;2021-01-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 134360.0, &quot;positiveIncrease&quot;: 11209.0, &quot;death&quot;: 30648.0, &quot;deathIncrease&quot;: 172.0, &quot;positiveRate&quot;: 0.083, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.078}, {&quot;date&quot;: &quot;2021-01-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 152402.0, &quot;positiveIncrease&quot;: 12666.0, &quot;death&quot;: 30802.0, &quot;deathIncrease&quot;: 154.0, &quot;positiveRate&quot;: 0.083, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.08}, {&quot;date&quot;: &quot;2021-01-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 197816.0, &quot;positiveIncrease&quot;: 16648.0, &quot;death&quot;: 30965.0, &quot;deathIncrease&quot;: 163.0, &quot;positiveRate&quot;: 0.084, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.08}, {&quot;date&quot;: &quot;2021-01-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 238550.0, &quot;positiveIncrease&quot;: 17636.0, &quot;death&quot;: 31164.0, &quot;deathIncrease&quot;: 199.0, &quot;positiveRate&quot;: 0.074, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.079}, {&quot;date&quot;: &quot;2021-01-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 243903.0, &quot;positiveIncrease&quot;: 18832.0, &quot;death&quot;: 31329.0, &quot;deathIncrease&quot;: 165.0, &quot;positiveRate&quot;: 0.077, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.079}, {&quot;date&quot;: &quot;2021-01-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 258031.0, &quot;positiveIncrease&quot;: 16943.0, &quot;death&quot;: 31519.0, &quot;deathIncrease&quot;: 190.0, &quot;positiveRate&quot;: 0.066, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.078}, {&quot;date&quot;: &quot;2021-01-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 246836.0, &quot;positiveIncrease&quot;: 15355.0, &quot;death&quot;: 31672.0, &quot;deathIncrease&quot;: 153.0, &quot;positiveRate&quot;: 0.062, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.076}, {&quot;date&quot;: &quot;2021-01-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 203904.0, &quot;positiveIncrease&quot;: 13714.0, &quot;death&quot;: 31841.0, &quot;deathIncrease&quot;: 169.0, &quot;positiveRate&quot;: 0.067, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.073}, {&quot;date&quot;: &quot;2021-01-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 196671.0, &quot;positiveIncrease&quot;: 15214.0, &quot;death&quot;: 32007.0, &quot;deathIncrease&quot;: 166.0, &quot;positiveRate&quot;: 0.077, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.072}, {&quot;date&quot;: &quot;2021-01-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 196868.0, &quot;positiveIncrease&quot;: 14577.0, &quot;death&quot;: 32175.0, &quot;deathIncrease&quot;: 168.0, &quot;positiveRate&quot;: 0.074, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.071}, {&quot;date&quot;: &quot;2021-01-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 212589.0, &quot;positiveIncrease&quot;: 13661.0, &quot;death&quot;: 32379.0, &quot;deathIncrease&quot;: 204.0, &quot;positiveRate&quot;: 0.064, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.07}, {&quot;date&quot;: &quot;2021-01-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 324671.0, &quot;positiveIncrease&quot;: 19942.0, &quot;death&quot;: 32566.0, &quot;deathIncrease&quot;: 187.0, &quot;positiveRate&quot;: 0.061, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.067}, {&quot;date&quot;: &quot;2021-01-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 277286.0, &quot;positiveIncrease&quot;: 15998.0, &quot;death&quot;: 32725.0, &quot;deathIncrease&quot;: 159.0, &quot;positiveRate&quot;: 0.058, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.066}, {&quot;date&quot;: &quot;2021-01-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 246507.0, &quot;positiveIncrease&quot;: 13842.0, &quot;death&quot;: 32897.0, &quot;deathIncrease&quot;: 172.0, &quot;positiveRate&quot;: 0.056, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.065}, {&quot;date&quot;: &quot;2021-01-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 186205.0, &quot;positiveIncrease&quot;: 12185.0, &quot;death&quot;: 33052.0, &quot;deathIncrease&quot;: 155.0, &quot;positiveRate&quot;: 0.065, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.065}, {&quot;date&quot;: &quot;2021-01-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 177269.0, &quot;positiveIncrease&quot;: 12512.0, &quot;death&quot;: 33224.0, &quot;deathIncrease&quot;: 172.0, &quot;positiveRate&quot;: 0.071, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.064}, {&quot;date&quot;: &quot;2021-01-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 195409.0, &quot;positiveIncrease&quot;: 13364.0, &quot;death&quot;: 33415.0, &quot;deathIncrease&quot;: 191.0, &quot;positiveRate&quot;: 0.068, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.063}, {&quot;date&quot;: &quot;2021-01-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 224569.0, &quot;positiveIncrease&quot;: 13886.0, &quot;death&quot;: 33594.0, &quot;deathIncrease&quot;: 179.0, &quot;positiveRate&quot;: 0.062, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.063}, {&quot;date&quot;: &quot;2021-01-22T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 268001.0, &quot;positiveIncrease&quot;: 15144.0, &quot;death&quot;: 33763.0, &quot;deathIncrease&quot;: 169.0, &quot;positiveRate&quot;: 0.057, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.062}, {&quot;date&quot;: &quot;2021-01-23T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 262106.0, &quot;positiveIncrease&quot;: 13786.0, &quot;death&quot;: 33907.0, &quot;deathIncrease&quot;: 144.0, &quot;positiveRate&quot;: 0.053, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.062}, {&quot;date&quot;: &quot;2021-01-24T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 249955.0, &quot;positiveIncrease&quot;: 12720.0, &quot;death&quot;: 34069.0, &quot;deathIncrease&quot;: 162.0, &quot;positiveRate&quot;: 0.051, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.061}, {&quot;date&quot;: &quot;2021-01-25T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 219538.0, &quot;positiveIncrease&quot;: 12003.0, &quot;death&quot;: 34242.0, &quot;deathIncrease&quot;: 173.0, &quot;positiveRate&quot;: 0.055, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.06}, {&quot;date&quot;: &quot;2021-01-26T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 162938.0, &quot;positiveIncrease&quot;: 11064.0, &quot;death&quot;: 34407.0, &quot;deathIncrease&quot;: 165.0, &quot;positiveRate&quot;: 0.068, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.059}, {&quot;date&quot;: &quot;2021-01-27T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 202661.0, &quot;positiveIncrease&quot;: 11028.0, &quot;death&quot;: 34579.0, &quot;deathIncrease&quot;: 172.0, &quot;positiveRate&quot;: 0.054, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.057}, {&quot;date&quot;: &quot;2021-01-28T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 250668.0, &quot;positiveIncrease&quot;: 13398.0, &quot;death&quot;: 34742.0, &quot;deathIncrease&quot;: 163.0, &quot;positiveRate&quot;: 0.053, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.056}, {&quot;date&quot;: &quot;2021-01-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 270518.0, &quot;positiveIncrease&quot;: 12579.0, &quot;death&quot;: 34893.0, &quot;deathIncrease&quot;: 151.0, &quot;positiveRate&quot;: 0.046, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.054}, {&quot;date&quot;: &quot;2021-01-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 269350.0, &quot;positiveIncrease&quot;: 12804.0, &quot;death&quot;: 35036.0, &quot;deathIncrease&quot;: 143.0, &quot;positiveRate&quot;: 0.048, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.054}, {&quot;date&quot;: &quot;2021-01-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 243066.0, &quot;positiveIncrease&quot;: 10793.0, &quot;death&quot;: 35178.0, &quot;deathIncrease&quot;: 142.0, &quot;positiveRate&quot;: 0.044, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.053}, {&quot;date&quot;: &quot;2021-02-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 175038.0, &quot;positiveIncrease&quot;: 8508.0, &quot;death&quot;: 35319.0, &quot;deathIncrease&quot;: 141.0, &quot;positiveRate&quot;: 0.049, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.052}, {&quot;date&quot;: &quot;2021-02-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 150199.0, &quot;positiveIncrease&quot;: 8215.0, &quot;death&quot;: 35466.0, &quot;deathIncrease&quot;: 147.0, &quot;positiveRate&quot;: 0.055, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.05}, {&quot;date&quot;: &quot;2021-02-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 126489.0, &quot;positiveIncrease&quot;: 5925.0, &quot;death&quot;: 35631.0, &quot;deathIncrease&quot;: 165.0, &quot;positiveRate&quot;: 0.047, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.049}, {&quot;date&quot;: &quot;2021-02-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 169186.0, &quot;positiveIncrease&quot;: 7414.0, &quot;death&quot;: 35767.0, &quot;deathIncrease&quot;: 136.0, &quot;positiveRate&quot;: 0.044, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.048}, {&quot;date&quot;: &quot;2021-02-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 203627.0, &quot;positiveIncrease&quot;: 8777.0, &quot;death&quot;: 35920.0, &quot;deathIncrease&quot;: 153.0, &quot;positiveRate&quot;: 0.043, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.047}, {&quot;date&quot;: &quot;2021-02-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 261285.0, &quot;positiveIncrease&quot;: 11252.0, &quot;death&quot;: 36079.0, &quot;deathIncrease&quot;: 159.0, &quot;positiveRate&quot;: 0.043, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.046}, {&quot;date&quot;: &quot;2021-02-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 250892.0, &quot;positiveIncrease&quot;: 10025.0, &quot;death&quot;: 36224.0, &quot;deathIncrease&quot;: 145.0, &quot;positiveRate&quot;: 0.04, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.046}, {&quot;date&quot;: &quot;2021-02-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 197183.0, &quot;positiveIncrease&quot;: 8448.0, &quot;death&quot;: 36339.0, &quot;deathIncrease&quot;: 115.0, &quot;positiveRate&quot;: 0.043, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.045}, {&quot;date&quot;: &quot;2021-02-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 153648.0, &quot;positiveIncrease&quot;: 7866.0, &quot;death&quot;: 36481.0, &quot;deathIncrease&quot;: 142.0, &quot;positiveRate&quot;: 0.051, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.044}, {&quot;date&quot;: &quot;2021-02-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 176750.0, &quot;positiveIncrease&quot;: 7101.0, &quot;death&quot;: 36619.0, &quot;deathIncrease&quot;: 138.0, &quot;positiveRate&quot;: 0.04, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.043}, {&quot;date&quot;: &quot;2021-02-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 285499.0, &quot;positiveIncrease&quot;: 10099.0, &quot;death&quot;: 36743.0, &quot;deathIncrease&quot;: 124.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.042}, {&quot;date&quot;: &quot;2021-02-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 237134.0, &quot;positiveIncrease&quot;: 8404.0, &quot;death&quot;: 36882.0, &quot;deathIncrease&quot;: 139.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.041}, {&quot;date&quot;: &quot;2021-02-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 253563.0, &quot;positiveIncrease&quot;: 8763.0, &quot;death&quot;: 37009.0, &quot;deathIncrease&quot;: 127.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.04}, {&quot;date&quot;: &quot;2021-02-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 234708.0, &quot;positiveIncrease&quot;: 8316.0, &quot;death&quot;: 37118.0, &quot;deathIncrease&quot;: 109.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.039}, {&quot;date&quot;: &quot;2021-02-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 180504.0, &quot;positiveIncrease&quot;: 6365.0, &quot;death&quot;: 37221.0, &quot;deathIncrease&quot;: 103.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.038}, {&quot;date&quot;: &quot;2021-02-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 136392.0, &quot;positiveIncrease&quot;: 6753.0, &quot;death&quot;: 37328.0, &quot;deathIncrease&quot;: 107.0, &quot;positiveRate&quot;: 0.05, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.038}, {&quot;date&quot;: &quot;2021-02-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 169963.0, &quot;positiveIncrease&quot;: 6092.0, &quot;death&quot;: 37440.0, &quot;deathIncrease&quot;: 112.0, &quot;positiveRate&quot;: 0.036, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.037}, {&quot;date&quot;: &quot;2021-02-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 215731.0, &quot;positiveIncrease&quot;: 6794.0, &quot;death&quot;: 37556.0, &quot;deathIncrease&quot;: 116.0, &quot;positiveRate&quot;: 0.031, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.037}, {&quot;date&quot;: &quot;2021-02-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 249248.0, &quot;positiveIncrease&quot;: 8710.0, &quot;death&quot;: 37675.0, &quot;deathIncrease&quot;: 119.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.037}, {&quot;date&quot;: &quot;2021-02-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 251645.0, &quot;positiveIncrease&quot;: 7692.0, &quot;death&quot;: 37776.0, &quot;deathIncrease&quot;: 101.0, &quot;positiveRate&quot;: 0.031, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.036}, {&quot;date&quot;: &quot;2021-02-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 221157.0, &quot;positiveIncrease&quot;: 6610.0, &quot;death&quot;: 37851.0, &quot;deathIncrease&quot;: 75.0, &quot;positiveRate&quot;: 0.03, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 0.035}]}}, {&quot;mode&quot;: &quot;vega-lite&quot;});
&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create_plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ny&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;deathIncrease&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;

&lt;div id=&quot;altair-viz-efcea0c32f6d46ea83de6a840be8df16&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== &quot;altair-viz-efcea0c32f6d46ea83de6a840be8df16&quot;) {
      outputDiv = document.getElementById(&quot;altair-viz-efcea0c32f6d46ea83de6a840be8df16&quot;);
    }
    const paths = {
      &quot;vega&quot;: &quot;https://cdn.jsdelivr.net/npm//vega@5?noext&quot;,
      &quot;vega-lib&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lib?noext&quot;,
      &quot;vega-lite&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext&quot;,
      &quot;vega-embed&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-embed@6?noext&quot;,
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName(&quot;head&quot;)[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class=&quot;error&quot; style=&quot;color:red;&quot;&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === &quot;function&quot; &amp;&amp; define.amd) {
      requirejs.config({paths});
      require([&quot;vega-embed&quot;], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === &quot;function&quot;) {
      displayChart(vegaEmbed);
    } else {
      loadScript(&quot;vega&quot;)
        .then(() =&gt; loadScript(&quot;vega-lite&quot;))
        .then(() =&gt; loadScript(&quot;vega-embed&quot;))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({&quot;config&quot;: {&quot;view&quot;: {&quot;continuousWidth&quot;: 400, &quot;continuousHeight&quot;: 300}}, &quot;layer&quot;: [{&quot;layer&quot;: [{&quot;mark&quot;: {&quot;type&quot;: &quot;point&quot;, &quot;size&quot;: 75}, &quot;encoding&quot;: {&quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}}, &quot;selection&quot;: {&quot;selector012&quot;: {&quot;type&quot;: &quot;interval&quot;, &quot;bind&quot;: &quot;scales&quot;, &quot;encodings&quot;: [&quot;x&quot;, &quot;y&quot;]}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;line&quot;, &quot;color&quot;: &quot;purple&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;rule&quot;, &quot;color&quot;: &quot;#aaa&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector011&quot;}}]}, {&quot;mark&quot;: &quot;circle&quot;, &quot;encoding&quot;: {&quot;opacity&quot;: {&quot;condition&quot;: {&quot;value&quot;: 1, &quot;selection&quot;: &quot;selector011&quot;}, &quot;value&quot;: 0}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}}, &quot;selection&quot;: {&quot;selector011&quot;: {&quot;type&quot;: &quot;single&quot;, &quot;encodings&quot;: [&quot;x&quot;], &quot;on&quot;: &quot;mouseover&quot;, &quot;nearest&quot;: true, &quot;empty&quot;: &quot;none&quot;}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5, &quot;stroke&quot;: &quot;white&quot;, &quot;strokeWidth&quot;: 2}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector011&quot;}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector011&quot;}}]}], &quot;data&quot;: {&quot;name&quot;: &quot;data-219c46382651ef266b2c1c34a12dd2db&quot;}, &quot;height&quot;: 400, &quot;title&quot;: &quot;New York: deathIncrease&quot;, &quot;width&quot;: 500, &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v4.8.1.json&quot;, &quot;datasets&quot;: {&quot;data-219c46382651ef266b2c1c34a12dd2db&quot;: [{&quot;date&quot;: &quot;2020-12-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 160164.0, &quot;positiveIncrease&quot;: 11438.0, &quot;death&quot;: 29756.0, &quot;deathIncrease&quot;: 127.0, &quot;positiveRate&quot;: 0.071, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 129.429}, {&quot;date&quot;: &quot;2020-12-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 154949.0, &quot;positiveIncrease&quot;: 13422.0, &quot;death&quot;: 29905.0, &quot;deathIncrease&quot;: 149.0, &quot;positiveRate&quot;: 0.087, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 127.0}, {&quot;date&quot;: &quot;2020-12-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 216587.0, &quot;positiveIncrease&quot;: 16802.0, &quot;death&quot;: 30040.0, &quot;deathIncrease&quot;: 135.0, &quot;positiveRate&quot;: 0.078, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 127.286}, {&quot;date&quot;: &quot;2021-01-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 219253.0, &quot;positiveIncrease&quot;: 16497.0, &quot;death&quot;: 30208.0, &quot;deathIncrease&quot;: 168.0, &quot;positiveRate&quot;: 0.075, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 134.0}, {&quot;date&quot;: &quot;2021-01-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 202446.0, &quot;positiveIncrease&quot;: 15074.0, &quot;death&quot;: 30337.0, &quot;deathIncrease&quot;: 129.0, &quot;positiveRate&quot;: 0.074, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 134.429}, {&quot;date&quot;: &quot;2021-01-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 142345.0, &quot;positiveIncrease&quot;: 11368.0, &quot;death&quot;: 30476.0, &quot;deathIncrease&quot;: 139.0, &quot;positiveRate&quot;: 0.08, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 137.857}, {&quot;date&quot;: &quot;2021-01-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 134360.0, &quot;positiveIncrease&quot;: 11209.0, &quot;death&quot;: 30648.0, &quot;deathIncrease&quot;: 172.0, &quot;positiveRate&quot;: 0.083, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 145.571}, {&quot;date&quot;: &quot;2021-01-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 152402.0, &quot;positiveIncrease&quot;: 12666.0, &quot;death&quot;: 30802.0, &quot;deathIncrease&quot;: 154.0, &quot;positiveRate&quot;: 0.083, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 149.429}, {&quot;date&quot;: &quot;2021-01-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 197816.0, &quot;positiveIncrease&quot;: 16648.0, &quot;death&quot;: 30965.0, &quot;deathIncrease&quot;: 163.0, &quot;positiveRate&quot;: 0.084, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 151.429}, {&quot;date&quot;: &quot;2021-01-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 238550.0, &quot;positiveIncrease&quot;: 17636.0, &quot;death&quot;: 31164.0, &quot;deathIncrease&quot;: 199.0, &quot;positiveRate&quot;: 0.074, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 160.571}, {&quot;date&quot;: &quot;2021-01-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 243903.0, &quot;positiveIncrease&quot;: 18832.0, &quot;death&quot;: 31329.0, &quot;deathIncrease&quot;: 165.0, &quot;positiveRate&quot;: 0.077, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 160.143}, {&quot;date&quot;: &quot;2021-01-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 258031.0, &quot;positiveIncrease&quot;: 16943.0, &quot;death&quot;: 31519.0, &quot;deathIncrease&quot;: 190.0, &quot;positiveRate&quot;: 0.066, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 168.857}, {&quot;date&quot;: &quot;2021-01-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 246836.0, &quot;positiveIncrease&quot;: 15355.0, &quot;death&quot;: 31672.0, &quot;deathIncrease&quot;: 153.0, &quot;positiveRate&quot;: 0.062, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 170.857}, {&quot;date&quot;: &quot;2021-01-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 203904.0, &quot;positiveIncrease&quot;: 13714.0, &quot;death&quot;: 31841.0, &quot;deathIncrease&quot;: 169.0, &quot;positiveRate&quot;: 0.067, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 170.429}, {&quot;date&quot;: &quot;2021-01-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 196671.0, &quot;positiveIncrease&quot;: 15214.0, &quot;death&quot;: 32007.0, &quot;deathIncrease&quot;: 166.0, &quot;positiveRate&quot;: 0.077, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 172.143}, {&quot;date&quot;: &quot;2021-01-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 196868.0, &quot;positiveIncrease&quot;: 14577.0, &quot;death&quot;: 32175.0, &quot;deathIncrease&quot;: 168.0, &quot;positiveRate&quot;: 0.074, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 172.857}, {&quot;date&quot;: &quot;2021-01-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 212589.0, &quot;positiveIncrease&quot;: 13661.0, &quot;death&quot;: 32379.0, &quot;deathIncrease&quot;: 204.0, &quot;positiveRate&quot;: 0.064, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 173.571}, {&quot;date&quot;: &quot;2021-01-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 324671.0, &quot;positiveIncrease&quot;: 19942.0, &quot;death&quot;: 32566.0, &quot;deathIncrease&quot;: 187.0, &quot;positiveRate&quot;: 0.061, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 176.714}, {&quot;date&quot;: &quot;2021-01-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 277286.0, &quot;positiveIncrease&quot;: 15998.0, &quot;death&quot;: 32725.0, &quot;deathIncrease&quot;: 159.0, &quot;positiveRate&quot;: 0.058, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 172.286}, {&quot;date&quot;: &quot;2021-01-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 246507.0, &quot;positiveIncrease&quot;: 13842.0, &quot;death&quot;: 32897.0, &quot;deathIncrease&quot;: 172.0, &quot;positiveRate&quot;: 0.056, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 175.0}, {&quot;date&quot;: &quot;2021-01-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 186205.0, &quot;positiveIncrease&quot;: 12185.0, &quot;death&quot;: 33052.0, &quot;deathIncrease&quot;: 155.0, &quot;positiveRate&quot;: 0.065, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 173.0}, {&quot;date&quot;: &quot;2021-01-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 177269.0, &quot;positiveIncrease&quot;: 12512.0, &quot;death&quot;: 33224.0, &quot;deathIncrease&quot;: 172.0, &quot;positiveRate&quot;: 0.071, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 173.857}, {&quot;date&quot;: &quot;2021-01-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 195409.0, &quot;positiveIncrease&quot;: 13364.0, &quot;death&quot;: 33415.0, &quot;deathIncrease&quot;: 191.0, &quot;positiveRate&quot;: 0.068, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 177.143}, {&quot;date&quot;: &quot;2021-01-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 224569.0, &quot;positiveIncrease&quot;: 13886.0, &quot;death&quot;: 33594.0, &quot;deathIncrease&quot;: 179.0, &quot;positiveRate&quot;: 0.062, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 173.571}, {&quot;date&quot;: &quot;2021-01-22T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 268001.0, &quot;positiveIncrease&quot;: 15144.0, &quot;death&quot;: 33763.0, &quot;deathIncrease&quot;: 169.0, &quot;positiveRate&quot;: 0.057, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 171.0}, {&quot;date&quot;: &quot;2021-01-23T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 262106.0, &quot;positiveIncrease&quot;: 13786.0, &quot;death&quot;: 33907.0, &quot;deathIncrease&quot;: 144.0, &quot;positiveRate&quot;: 0.053, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 168.857}, {&quot;date&quot;: &quot;2021-01-24T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 249955.0, &quot;positiveIncrease&quot;: 12720.0, &quot;death&quot;: 34069.0, &quot;deathIncrease&quot;: 162.0, &quot;positiveRate&quot;: 0.051, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 167.429}, {&quot;date&quot;: &quot;2021-01-25T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 219538.0, &quot;positiveIncrease&quot;: 12003.0, &quot;death&quot;: 34242.0, &quot;deathIncrease&quot;: 173.0, &quot;positiveRate&quot;: 0.055, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 170.0}, {&quot;date&quot;: &quot;2021-01-26T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 162938.0, &quot;positiveIncrease&quot;: 11064.0, &quot;death&quot;: 34407.0, &quot;deathIncrease&quot;: 165.0, &quot;positiveRate&quot;: 0.068, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 169.0}, {&quot;date&quot;: &quot;2021-01-27T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 202661.0, &quot;positiveIncrease&quot;: 11028.0, &quot;death&quot;: 34579.0, &quot;deathIncrease&quot;: 172.0, &quot;positiveRate&quot;: 0.054, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 166.286}, {&quot;date&quot;: &quot;2021-01-28T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 250668.0, &quot;positiveIncrease&quot;: 13398.0, &quot;death&quot;: 34742.0, &quot;deathIncrease&quot;: 163.0, &quot;positiveRate&quot;: 0.053, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 164.0}, {&quot;date&quot;: &quot;2021-01-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 270518.0, &quot;positiveIncrease&quot;: 12579.0, &quot;death&quot;: 34893.0, &quot;deathIncrease&quot;: 151.0, &quot;positiveRate&quot;: 0.046, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 161.429}, {&quot;date&quot;: &quot;2021-01-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 269350.0, &quot;positiveIncrease&quot;: 12804.0, &quot;death&quot;: 35036.0, &quot;deathIncrease&quot;: 143.0, &quot;positiveRate&quot;: 0.048, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 161.286}, {&quot;date&quot;: &quot;2021-01-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 243066.0, &quot;positiveIncrease&quot;: 10793.0, &quot;death&quot;: 35178.0, &quot;deathIncrease&quot;: 142.0, &quot;positiveRate&quot;: 0.044, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 158.429}, {&quot;date&quot;: &quot;2021-02-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 175038.0, &quot;positiveIncrease&quot;: 8508.0, &quot;death&quot;: 35319.0, &quot;deathIncrease&quot;: 141.0, &quot;positiveRate&quot;: 0.049, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 153.857}, {&quot;date&quot;: &quot;2021-02-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 150199.0, &quot;positiveIncrease&quot;: 8215.0, &quot;death&quot;: 35466.0, &quot;deathIncrease&quot;: 147.0, &quot;positiveRate&quot;: 0.055, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 151.286}, {&quot;date&quot;: &quot;2021-02-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 126489.0, &quot;positiveIncrease&quot;: 5925.0, &quot;death&quot;: 35631.0, &quot;deathIncrease&quot;: 165.0, &quot;positiveRate&quot;: 0.047, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 150.286}, {&quot;date&quot;: &quot;2021-02-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 169186.0, &quot;positiveIncrease&quot;: 7414.0, &quot;death&quot;: 35767.0, &quot;deathIncrease&quot;: 136.0, &quot;positiveRate&quot;: 0.044, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 146.429}, {&quot;date&quot;: &quot;2021-02-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 203627.0, &quot;positiveIncrease&quot;: 8777.0, &quot;death&quot;: 35920.0, &quot;deathIncrease&quot;: 153.0, &quot;positiveRate&quot;: 0.043, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 146.714}, {&quot;date&quot;: &quot;2021-02-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 261285.0, &quot;positiveIncrease&quot;: 11252.0, &quot;death&quot;: 36079.0, &quot;deathIncrease&quot;: 159.0, &quot;positiveRate&quot;: 0.043, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 149.0}, {&quot;date&quot;: &quot;2021-02-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 250892.0, &quot;positiveIncrease&quot;: 10025.0, &quot;death&quot;: 36224.0, &quot;deathIncrease&quot;: 145.0, &quot;positiveRate&quot;: 0.04, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 149.429}, {&quot;date&quot;: &quot;2021-02-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 197183.0, &quot;positiveIncrease&quot;: 8448.0, &quot;death&quot;: 36339.0, &quot;deathIncrease&quot;: 115.0, &quot;positiveRate&quot;: 0.043, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 145.714}, {&quot;date&quot;: &quot;2021-02-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 153648.0, &quot;positiveIncrease&quot;: 7866.0, &quot;death&quot;: 36481.0, &quot;deathIncrease&quot;: 142.0, &quot;positiveRate&quot;: 0.051, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 145.0}, {&quot;date&quot;: &quot;2021-02-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 176750.0, &quot;positiveIncrease&quot;: 7101.0, &quot;death&quot;: 36619.0, &quot;deathIncrease&quot;: 138.0, &quot;positiveRate&quot;: 0.04, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 141.143}, {&quot;date&quot;: &quot;2021-02-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 285499.0, &quot;positiveIncrease&quot;: 10099.0, &quot;death&quot;: 36743.0, &quot;deathIncrease&quot;: 124.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 139.429}, {&quot;date&quot;: &quot;2021-02-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 237134.0, &quot;positiveIncrease&quot;: 8404.0, &quot;death&quot;: 36882.0, &quot;deathIncrease&quot;: 139.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 137.429}, {&quot;date&quot;: &quot;2021-02-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 253563.0, &quot;positiveIncrease&quot;: 8763.0, &quot;death&quot;: 37009.0, &quot;deathIncrease&quot;: 127.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 132.857}, {&quot;date&quot;: &quot;2021-02-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 234708.0, &quot;positiveIncrease&quot;: 8316.0, &quot;death&quot;: 37118.0, &quot;deathIncrease&quot;: 109.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 127.714}, {&quot;date&quot;: &quot;2021-02-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 180504.0, &quot;positiveIncrease&quot;: 6365.0, &quot;death&quot;: 37221.0, &quot;deathIncrease&quot;: 103.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 126.0}, {&quot;date&quot;: &quot;2021-02-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 136392.0, &quot;positiveIncrease&quot;: 6753.0, &quot;death&quot;: 37328.0, &quot;deathIncrease&quot;: 107.0, &quot;positiveRate&quot;: 0.05, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 121.0}, {&quot;date&quot;: &quot;2021-02-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 169963.0, &quot;positiveIncrease&quot;: 6092.0, &quot;death&quot;: 37440.0, &quot;deathIncrease&quot;: 112.0, &quot;positiveRate&quot;: 0.036, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 117.286}, {&quot;date&quot;: &quot;2021-02-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 215731.0, &quot;positiveIncrease&quot;: 6794.0, &quot;death&quot;: 37556.0, &quot;deathIncrease&quot;: 116.0, &quot;positiveRate&quot;: 0.031, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 116.143}, {&quot;date&quot;: &quot;2021-02-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 249248.0, &quot;positiveIncrease&quot;: 8710.0, &quot;death&quot;: 37675.0, &quot;deathIncrease&quot;: 119.0, &quot;positiveRate&quot;: 0.035, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 113.286}, {&quot;date&quot;: &quot;2021-02-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 251645.0, &quot;positiveIncrease&quot;: 7692.0, &quot;death&quot;: 37776.0, &quot;deathIncrease&quot;: 101.0, &quot;positiveRate&quot;: 0.031, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 109.571}, {&quot;date&quot;: &quot;2021-02-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 221157.0, &quot;positiveIncrease&quot;: 6610.0, &quot;death&quot;: 37851.0, &quot;deathIncrease&quot;: 75.0, &quot;positiveRate&quot;: 0.03, &quot;state&quot;: &quot;New York&quot;, &quot;sma7d&quot;: 104.714}]}}, {&quot;mode&quot;: &quot;vega-lite&quot;});
&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;div class=&quot;cell border-box-sizing text_cell rendered&quot;&gt;&lt;div class=&quot;inner_cell&quot;&gt;
&lt;div class=&quot;text_cell_render border-box-sizing rendered_html&quot;&gt;
&lt;h2 id=&quot;Non-Tri-State&quot;&gt;Non Tri-State&lt;a class=&quot;anchor-link&quot; href=&quot;#Non-Tri-State&quot;&gt; &lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;non_tristate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;create_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;state&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;CT&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;NJ&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;NY&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Non Tri-State&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create_plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;non_tristate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;positiveIncrease&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;

&lt;div id=&quot;altair-viz-c3a27704e979412a9b291afadaffdfd7&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== &quot;altair-viz-c3a27704e979412a9b291afadaffdfd7&quot;) {
      outputDiv = document.getElementById(&quot;altair-viz-c3a27704e979412a9b291afadaffdfd7&quot;);
    }
    const paths = {
      &quot;vega&quot;: &quot;https://cdn.jsdelivr.net/npm//vega@5?noext&quot;,
      &quot;vega-lib&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lib?noext&quot;,
      &quot;vega-lite&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext&quot;,
      &quot;vega-embed&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-embed@6?noext&quot;,
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName(&quot;head&quot;)[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class=&quot;error&quot; style=&quot;color:red;&quot;&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === &quot;function&quot; &amp;&amp; define.amd) {
      requirejs.config({paths});
      require([&quot;vega-embed&quot;], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === &quot;function&quot;) {
      displayChart(vegaEmbed);
    } else {
      loadScript(&quot;vega&quot;)
        .then(() =&gt; loadScript(&quot;vega-lite&quot;))
        .then(() =&gt; loadScript(&quot;vega-embed&quot;))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({&quot;config&quot;: {&quot;view&quot;: {&quot;continuousWidth&quot;: 400, &quot;continuousHeight&quot;: 300}}, &quot;layer&quot;: [{&quot;layer&quot;: [{&quot;mark&quot;: {&quot;type&quot;: &quot;point&quot;, &quot;size&quot;: 75}, &quot;encoding&quot;: {&quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}}, &quot;selection&quot;: {&quot;selector014&quot;: {&quot;type&quot;: &quot;interval&quot;, &quot;bind&quot;: &quot;scales&quot;, &quot;encodings&quot;: [&quot;x&quot;, &quot;y&quot;]}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;line&quot;, &quot;color&quot;: &quot;purple&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;rule&quot;, &quot;color&quot;: &quot;#aaa&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector013&quot;}}]}, {&quot;mark&quot;: &quot;circle&quot;, &quot;encoding&quot;: {&quot;opacity&quot;: {&quot;condition&quot;: {&quot;value&quot;: 1, &quot;selection&quot;: &quot;selector013&quot;}, &quot;value&quot;: 0}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}}, &quot;selection&quot;: {&quot;selector013&quot;: {&quot;type&quot;: &quot;single&quot;, &quot;encodings&quot;: [&quot;x&quot;], &quot;on&quot;: &quot;mouseover&quot;, &quot;nearest&quot;: true, &quot;empty&quot;: &quot;none&quot;}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5, &quot;stroke&quot;: &quot;white&quot;, &quot;strokeWidth&quot;: 2}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector013&quot;}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveIncrease&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector013&quot;}}]}], &quot;data&quot;: {&quot;name&quot;: &quot;data-e2c1b8fad67226226c0606ee16db285a&quot;}, &quot;height&quot;: 400, &quot;title&quot;: &quot;Non Tri-State: positiveIncrease&quot;, &quot;width&quot;: 500, &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v4.8.1.json&quot;, &quot;datasets&quot;: {&quot;data-e2c1b8fad67226226c0606ee16db285a&quot;: [{&quot;date&quot;: &quot;2020-12-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1111662.0, &quot;positiveIncrease&quot;: 183067.0, &quot;death&quot;: 275148.0, &quot;deathIncrease&quot;: 3016.0, &quot;positiveRate&quot;: 0.165, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 163482.857}, {&quot;date&quot;: &quot;2020-12-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1389220.0, &quot;positiveIncrease&quot;: 209148.0, &quot;death&quot;: 278684.0, &quot;deathIncrease&quot;: 3536.0, &quot;positiveRate&quot;: 0.151, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 164019.571}, {&quot;date&quot;: &quot;2020-12-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1507854.0, &quot;positiveIncrease&quot;: 201687.0, &quot;death&quot;: 281725.0, &quot;deathIncrease&quot;: 3041.0, &quot;positiveRate&quot;: 0.134, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 166153.714}, {&quot;date&quot;: &quot;2021-01-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1118797.0, &quot;positiveIncrease&quot;: 160491.0, &quot;death&quot;: 284031.0, &quot;deathIncrease&quot;: 2306.0, &quot;positiveRate&quot;: 0.143, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 173546.0}, {&quot;date&quot;: &quot;2021-01-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1833097.0, &quot;positiveIncrease&quot;: 255033.0, &quot;death&quot;: 286177.0, &quot;deathIncrease&quot;: 2146.0, &quot;positiveRate&quot;: 0.139, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 184914.0}, {&quot;date&quot;: &quot;2021-01-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1283132.0, &quot;positiveIncrease&quot;: 193001.0, &quot;death&quot;: 287472.0, &quot;deathIncrease&quot;: 1295.0, &quot;positiveRate&quot;: 0.15, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 192053.857}, {&quot;date&quot;: &quot;2021-01-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1359528.0, &quot;positiveIncrease&quot;: 161488.0, &quot;death&quot;: 288742.0, &quot;deathIncrease&quot;: 1270.0, &quot;positiveRate&quot;: 0.119, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 194845.0}, {&quot;date&quot;: &quot;2021-01-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1319085.0, &quot;positiveIncrease&quot;: 197806.0, &quot;death&quot;: 291910.0, &quot;deathIncrease&quot;: 3168.0, &quot;positiveRate&quot;: 0.15, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 196950.571}, {&quot;date&quot;: &quot;2021-01-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1365356.0, &quot;positiveIncrease&quot;: 225202.0, &quot;death&quot;: 295470.0, &quot;deathIncrease&quot;: 3560.0, &quot;positiveRate&quot;: 0.165, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 199244.0}, {&quot;date&quot;: &quot;2021-01-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1647254.0, &quot;positiveIncrease&quot;: 243564.0, &quot;death&quot;: 299170.0, &quot;deathIncrease&quot;: 3700.0, &quot;positiveRate&quot;: 0.148, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 205226.429}, {&quot;date&quot;: &quot;2021-01-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1828379.0, &quot;positiveIncrease&quot;: 266104.0, &quot;death&quot;: 302638.0, &quot;deathIncrease&quot;: 3468.0, &quot;positiveRate&quot;: 0.146, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 220314.0}, {&quot;date&quot;: &quot;2021-01-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1786837.0, &quot;positiveIncrease&quot;: 244998.0, &quot;death&quot;: 305887.0, &quot;deathIncrease&quot;: 3249.0, &quot;positiveRate&quot;: 0.137, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 218880.429}, {&quot;date&quot;: &quot;2021-01-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1772066.0, &quot;positiveIncrease&quot;: 207731.0, &quot;death&quot;: 307770.0, &quot;deathIncrease&quot;: 1883.0, &quot;positiveRate&quot;: 0.117, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 220984.714}, {&quot;date&quot;: &quot;2021-01-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1541363.0, &quot;positiveIncrease&quot;: 168843.0, &quot;death&quot;: 309196.0, &quot;deathIncrease&quot;: 1426.0, &quot;positiveRate&quot;: 0.11, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 222035.429}, {&quot;date&quot;: &quot;2021-01-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1509824.0, &quot;positiveIncrease&quot;: 194530.0, &quot;death&quot;: 312954.0, &quot;deathIncrease&quot;: 3758.0, &quot;positiveRate&quot;: 0.129, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 221567.429}, {&quot;date&quot;: &quot;2021-01-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1577988.0, &quot;positiveIncrease&quot;: 198505.0, &quot;death&quot;: 316664.0, &quot;deathIncrease&quot;: 3710.0, &quot;positiveRate&quot;: 0.126, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 217753.571}, {&quot;date&quot;: &quot;2021-01-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1752015.0, &quot;positiveIncrease&quot;: 203895.0, &quot;death&quot;: 320266.0, &quot;deathIncrease&quot;: 3602.0, &quot;positiveRate&quot;: 0.116, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 212086.571}, {&quot;date&quot;: &quot;2021-01-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1824553.0, &quot;positiveIncrease&quot;: 218265.0, &quot;death&quot;: 323650.0, &quot;deathIncrease&quot;: 3384.0, &quot;positiveRate&quot;: 0.12, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 205252.429}, {&quot;date&quot;: &quot;2021-01-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1795533.0, &quot;positiveIncrease&quot;: 196088.0, &quot;death&quot;: 327106.0, &quot;deathIncrease&quot;: 3456.0, &quot;positiveRate&quot;: 0.109, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 198265.286}, {&quot;date&quot;: &quot;2021-01-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1641242.0, &quot;positiveIncrease&quot;: 168244.0, &quot;death&quot;: 328962.0, &quot;deathIncrease&quot;: 1856.0, &quot;positiveRate&quot;: 0.103, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 192624.286}, {&quot;date&quot;: &quot;2021-01-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1501535.0, &quot;positiveIncrease&quot;: 128051.0, &quot;death&quot;: 330107.0, &quot;deathIncrease&quot;: 1145.0, &quot;positiveRate&quot;: 0.085, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 186796.857}, {&quot;date&quot;: &quot;2021-01-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1340163.0, &quot;positiveIncrease&quot;: 127392.0, &quot;death&quot;: 332010.0, &quot;deathIncrease&quot;: 1903.0, &quot;positiveRate&quot;: 0.095, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 177205.714}, {&quot;date&quot;: &quot;2021-01-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1510879.0, &quot;positiveIncrease&quot;: 168486.0, &quot;death&quot;: 336032.0, &quot;deathIncrease&quot;: 4022.0, &quot;positiveRate&quot;: 0.112, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 172917.286}, {&quot;date&quot;: &quot;2021-01-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1666552.0, &quot;positiveIncrease&quot;: 165678.0, &quot;death&quot;: 339587.0, &quot;deathIncrease&quot;: 3555.0, &quot;positiveRate&quot;: 0.099, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 167457.714}, {&quot;date&quot;: &quot;2021-01-22T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1673521.0, &quot;positiveIncrease&quot;: 169552.0, &quot;death&quot;: 343238.0, &quot;deathIncrease&quot;: 3651.0, &quot;positiveRate&quot;: 0.101, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 160498.714}, {&quot;date&quot;: &quot;2021-01-23T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1660018.0, &quot;positiveIncrease&quot;: 156185.0, &quot;death&quot;: 346626.0, &quot;deathIncrease&quot;: 3388.0, &quot;positiveRate&quot;: 0.094, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 154798.286}, {&quot;date&quot;: &quot;2021-01-24T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1509249.0, &quot;positiveIncrease&quot;: 126242.0, &quot;death&quot;: 348391.0, &quot;deathIncrease&quot;: 1765.0, &quot;positiveRate&quot;: 0.084, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 148798.0}, {&quot;date&quot;: &quot;2021-01-25T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1407829.0, &quot;positiveIncrease&quot;: 111491.0, &quot;death&quot;: 349698.0, &quot;deathIncrease&quot;: 1307.0, &quot;positiveRate&quot;: 0.079, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 146432.286}, {&quot;date&quot;: &quot;2021-01-26T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1338606.0, &quot;positiveIncrease&quot;: 129341.0, &quot;death&quot;: 353111.0, &quot;deathIncrease&quot;: 3413.0, &quot;positiveRate&quot;: 0.097, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 146710.714}, {&quot;date&quot;: &quot;2021-01-27T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1352633.0, &quot;positiveIncrease&quot;: 135707.0, &quot;death&quot;: 356859.0, &quot;deathIncrease&quot;: 3748.0, &quot;positiveRate&quot;: 0.1, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 142028.0}, {&quot;date&quot;: &quot;2021-01-28T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1614290.0, &quot;positiveIncrease&quot;: 137736.0, &quot;death&quot;: 360582.0, &quot;deathIncrease&quot;: 3723.0, &quot;positiveRate&quot;: 0.085, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 138036.286}, {&quot;date&quot;: &quot;2021-01-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1589715.0, &quot;positiveIncrease&quot;: 147288.0, &quot;death&quot;: 363826.0, &quot;deathIncrease&quot;: 3244.0, &quot;positiveRate&quot;: 0.093, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 134855.714}, {&quot;date&quot;: &quot;2021-01-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1883080.0, &quot;positiveIncrease&quot;: 130746.0, &quot;death&quot;: 366593.0, &quot;deathIncrease&quot;: 2767.0, &quot;positiveRate&quot;: 0.069, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 131221.571}, {&quot;date&quot;: &quot;2021-01-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1468710.0, &quot;positiveIncrease&quot;: 104288.0, &quot;death&quot;: 368481.0, &quot;deathIncrease&quot;: 1888.0, &quot;positiveRate&quot;: 0.071, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 128085.286}, {&quot;date&quot;: &quot;2021-02-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1196877.0, &quot;positiveIncrease&quot;: 104244.0, &quot;death&quot;: 369800.0, &quot;deathIncrease&quot;: 1319.0, &quot;positiveRate&quot;: 0.087, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 127050.0}, {&quot;date&quot;: &quot;2021-02-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1190525.0, &quot;positiveIncrease&quot;: 103683.0, &quot;death&quot;: 373054.0, &quot;deathIncrease&quot;: 3254.0, &quot;positiveRate&quot;: 0.087, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 123384.571}, {&quot;date&quot;: &quot;2021-02-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1270484.0, &quot;positiveIncrease&quot;: 108242.0, &quot;death&quot;: 376441.0, &quot;deathIncrease&quot;: 3387.0, &quot;positiveRate&quot;: 0.085, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 119461.0}, {&quot;date&quot;: &quot;2021-02-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1455557.0, &quot;positiveIncrease&quot;: 112267.0, &quot;death&quot;: 381389.0, &quot;deathIncrease&quot;: 4948.0, &quot;positiveRate&quot;: 0.077, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 115822.571}, {&quot;date&quot;: &quot;2021-02-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1593905.0, &quot;positiveIncrease&quot;: 116710.0, &quot;death&quot;: 384657.0, &quot;deathIncrease&quot;: 3268.0, &quot;positiveRate&quot;: 0.073, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 111454.286}, {&quot;date&quot;: &quot;2021-02-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1565902.0, &quot;positiveIncrease&quot;: 98794.0, &quot;death&quot;: 387414.0, &quot;deathIncrease&quot;: 2757.0, &quot;positiveRate&quot;: 0.063, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 106889.714}, {&quot;date&quot;: &quot;2021-02-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1243243.0, &quot;positiveIncrease&quot;: 81637.0, &quot;death&quot;: 388719.0, &quot;deathIncrease&quot;: 1305.0, &quot;positiveRate&quot;: 0.066, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 103653.857}, {&quot;date&quot;: &quot;2021-02-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1112140.0, &quot;positiveIncrease&quot;: 62361.0, &quot;death&quot;: 389823.0, &quot;deathIncrease&quot;: 1104.0, &quot;positiveRate&quot;: 0.056, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 97670.571}, {&quot;date&quot;: &quot;2021-02-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1137570.0, &quot;positiveIncrease&quot;: 80675.0, &quot;death&quot;: 392368.0, &quot;deathIncrease&quot;: 2545.0, &quot;positiveRate&quot;: 0.071, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 94383.714}, {&quot;date&quot;: &quot;2021-02-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1183245.0, &quot;positiveIncrease&quot;: 82835.0, &quot;death&quot;: 395500.0, &quot;deathIncrease&quot;: 3132.0, &quot;positiveRate&quot;: 0.07, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 90754.143}, {&quot;date&quot;: &quot;2021-02-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1503228.0, &quot;positiveIncrease&quot;: 87659.0, &quot;death&quot;: 399142.0, &quot;deathIncrease&quot;: 3642.0, &quot;positiveRate&quot;: 0.058, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 87238.714}, {&quot;date&quot;: &quot;2021-02-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1493184.0, &quot;positiveIncrease&quot;: 88056.0, &quot;death&quot;: 404339.0, &quot;deathIncrease&quot;: 5197.0, &quot;positiveRate&quot;: 0.059, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 83145.286}, {&quot;date&quot;: &quot;2021-02-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1443886.0, &quot;positiveIncrease&quot;: 78122.0, &quot;death&quot;: 407632.0, &quot;deathIncrease&quot;: 3293.0, &quot;positiveRate&quot;: 0.054, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 80192.143}, {&quot;date&quot;: &quot;2021-02-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1197076.0, &quot;positiveIncrease&quot;: 61680.0, &quot;death&quot;: 408875.0, &quot;deathIncrease&quot;: 1243.0, &quot;positiveRate&quot;: 0.052, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 77341.143}, {&quot;date&quot;: &quot;2021-02-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 853603.0, &quot;positiveIncrease&quot;: 44362.0, &quot;death&quot;: 409772.0, &quot;deathIncrease&quot;: 897.0, &quot;positiveRate&quot;: 0.052, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 74769.857}, {&quot;date&quot;: &quot;2021-02-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 899890.0, &quot;positiveIncrease&quot;: 45346.0, &quot;death&quot;: 410985.0, &quot;deathIncrease&quot;: 1213.0, &quot;positiveRate&quot;: 0.05, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 69722.857}, {&quot;date&quot;: &quot;2021-02-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1061020.0, &quot;positiveIncrease&quot;: 56104.0, &quot;death&quot;: 413059.0, &quot;deathIncrease&quot;: 2074.0, &quot;positiveRate&quot;: 0.053, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 65904.143}, {&quot;date&quot;: &quot;2021-02-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1017270.0, &quot;positiveIncrease&quot;: 56206.0, &quot;death&quot;: 415450.0, &quot;deathIncrease&quot;: 2391.0, &quot;positiveRate&quot;: 0.055, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 61410.857}, {&quot;date&quot;: &quot;2021-02-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1516028.0, &quot;positiveIncrease&quot;: 61721.0, &quot;death&quot;: 417718.0, &quot;deathIncrease&quot;: 2268.0, &quot;positiveRate&quot;: 0.041, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 57648.714}, {&quot;date&quot;: &quot;2021-02-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1020005.0, &quot;positiveIncrease&quot;: 61383.0, &quot;death&quot;: 419641.0, &quot;deathIncrease&quot;: 1923.0, &quot;positiveRate&quot;: 0.06, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 55257.429}, {&quot;date&quot;: &quot;2021-02-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1002585.0, &quot;positiveIncrease&quot;: 49788.0, &quot;death&quot;: 420828.0, &quot;deathIncrease&quot;: 1187.0, &quot;positiveRate&quot;: 0.05, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 53558.571}]}}, {&quot;mode&quot;: &quot;vega-lite&quot;});
&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create_plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;non_tristate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;positiveRate&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;

&lt;div id=&quot;altair-viz-9836b356a7b044c7bb17d734cf74b550&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== &quot;altair-viz-9836b356a7b044c7bb17d734cf74b550&quot;) {
      outputDiv = document.getElementById(&quot;altair-viz-9836b356a7b044c7bb17d734cf74b550&quot;);
    }
    const paths = {
      &quot;vega&quot;: &quot;https://cdn.jsdelivr.net/npm//vega@5?noext&quot;,
      &quot;vega-lib&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lib?noext&quot;,
      &quot;vega-lite&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext&quot;,
      &quot;vega-embed&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-embed@6?noext&quot;,
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName(&quot;head&quot;)[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class=&quot;error&quot; style=&quot;color:red;&quot;&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === &quot;function&quot; &amp;&amp; define.amd) {
      requirejs.config({paths});
      require([&quot;vega-embed&quot;], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === &quot;function&quot;) {
      displayChart(vegaEmbed);
    } else {
      loadScript(&quot;vega&quot;)
        .then(() =&gt; loadScript(&quot;vega-lite&quot;))
        .then(() =&gt; loadScript(&quot;vega-embed&quot;))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({&quot;config&quot;: {&quot;view&quot;: {&quot;continuousWidth&quot;: 400, &quot;continuousHeight&quot;: 300}}, &quot;layer&quot;: [{&quot;layer&quot;: [{&quot;mark&quot;: {&quot;type&quot;: &quot;point&quot;, &quot;size&quot;: 75}, &quot;encoding&quot;: {&quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}}, &quot;selection&quot;: {&quot;selector016&quot;: {&quot;type&quot;: &quot;interval&quot;, &quot;bind&quot;: &quot;scales&quot;, &quot;encodings&quot;: [&quot;x&quot;, &quot;y&quot;]}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;line&quot;, &quot;color&quot;: &quot;purple&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;rule&quot;, &quot;color&quot;: &quot;#aaa&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector015&quot;}}]}, {&quot;mark&quot;: &quot;circle&quot;, &quot;encoding&quot;: {&quot;opacity&quot;: {&quot;condition&quot;: {&quot;value&quot;: 1, &quot;selection&quot;: &quot;selector015&quot;}, &quot;value&quot;: 0}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}}, &quot;selection&quot;: {&quot;selector015&quot;: {&quot;type&quot;: &quot;single&quot;, &quot;encodings&quot;: [&quot;x&quot;], &quot;on&quot;: &quot;mouseover&quot;, &quot;nearest&quot;: true, &quot;empty&quot;: &quot;none&quot;}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5, &quot;stroke&quot;: &quot;white&quot;, &quot;strokeWidth&quot;: 2}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector015&quot;}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;positiveRate&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector015&quot;}}]}], &quot;data&quot;: {&quot;name&quot;: &quot;data-690b22d68a6b7fd7d55bbdcf7718c362&quot;}, &quot;height&quot;: 400, &quot;title&quot;: &quot;Non Tri-State: positiveRate&quot;, &quot;width&quot;: 500, &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v4.8.1.json&quot;, &quot;datasets&quot;: {&quot;data-690b22d68a6b7fd7d55bbdcf7718c362&quot;: [{&quot;date&quot;: &quot;2020-12-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1111662.0, &quot;positiveIncrease&quot;: 183067.0, &quot;death&quot;: 275148.0, &quot;deathIncrease&quot;: 3016.0, &quot;positiveRate&quot;: 0.165, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.122}, {&quot;date&quot;: &quot;2020-12-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1389220.0, &quot;positiveIncrease&quot;: 209148.0, &quot;death&quot;: 278684.0, &quot;deathIncrease&quot;: 3536.0, &quot;positiveRate&quot;: 0.151, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.124}, {&quot;date&quot;: &quot;2020-12-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1507854.0, &quot;positiveIncrease&quot;: 201687.0, &quot;death&quot;: 281725.0, &quot;deathIncrease&quot;: 3041.0, &quot;positiveRate&quot;: 0.134, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.127}, {&quot;date&quot;: &quot;2021-01-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1118797.0, &quot;positiveIncrease&quot;: 160491.0, &quot;death&quot;: 284031.0, &quot;deathIncrease&quot;: 2306.0, &quot;positiveRate&quot;: 0.143, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.134}, {&quot;date&quot;: &quot;2021-01-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1833097.0, &quot;positiveIncrease&quot;: 255033.0, &quot;death&quot;: 286177.0, &quot;deathIncrease&quot;: 2146.0, &quot;positiveRate&quot;: 0.139, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.141}, {&quot;date&quot;: &quot;2021-01-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1283132.0, &quot;positiveIncrease&quot;: 193001.0, &quot;death&quot;: 287472.0, &quot;deathIncrease&quot;: 1295.0, &quot;positiveRate&quot;: 0.15, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.146}, {&quot;date&quot;: &quot;2021-01-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1359528.0, &quot;positiveIncrease&quot;: 161488.0, &quot;death&quot;: 288742.0, &quot;deathIncrease&quot;: 1270.0, &quot;positiveRate&quot;: 0.119, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.143}, {&quot;date&quot;: &quot;2021-01-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1319085.0, &quot;positiveIncrease&quot;: 197806.0, &quot;death&quot;: 291910.0, &quot;deathIncrease&quot;: 3168.0, &quot;positiveRate&quot;: 0.15, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.141}, {&quot;date&quot;: &quot;2021-01-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1365356.0, &quot;positiveIncrease&quot;: 225202.0, &quot;death&quot;: 295470.0, &quot;deathIncrease&quot;: 3560.0, &quot;positiveRate&quot;: 0.165, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.143}, {&quot;date&quot;: &quot;2021-01-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1647254.0, &quot;positiveIncrease&quot;: 243564.0, &quot;death&quot;: 299170.0, &quot;deathIncrease&quot;: 3700.0, &quot;positiveRate&quot;: 0.148, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.145}, {&quot;date&quot;: &quot;2021-01-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1828379.0, &quot;positiveIncrease&quot;: 266104.0, &quot;death&quot;: 302638.0, &quot;deathIncrease&quot;: 3468.0, &quot;positiveRate&quot;: 0.146, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.145}, {&quot;date&quot;: &quot;2021-01-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1786837.0, &quot;positiveIncrease&quot;: 244998.0, &quot;death&quot;: 305887.0, &quot;deathIncrease&quot;: 3249.0, &quot;positiveRate&quot;: 0.137, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.145}, {&quot;date&quot;: &quot;2021-01-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1772066.0, &quot;positiveIncrease&quot;: 207731.0, &quot;death&quot;: 307770.0, &quot;deathIncrease&quot;: 1883.0, &quot;positiveRate&quot;: 0.117, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.14}, {&quot;date&quot;: &quot;2021-01-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1541363.0, &quot;positiveIncrease&quot;: 168843.0, &quot;death&quot;: 309196.0, &quot;deathIncrease&quot;: 1426.0, &quot;positiveRate&quot;: 0.11, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.139}, {&quot;date&quot;: &quot;2021-01-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1509824.0, &quot;positiveIncrease&quot;: 194530.0, &quot;death&quot;: 312954.0, &quot;deathIncrease&quot;: 3758.0, &quot;positiveRate&quot;: 0.129, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.136}, {&quot;date&quot;: &quot;2021-01-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1577988.0, &quot;positiveIncrease&quot;: 198505.0, &quot;death&quot;: 316664.0, &quot;deathIncrease&quot;: 3710.0, &quot;positiveRate&quot;: 0.126, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.13}, {&quot;date&quot;: &quot;2021-01-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1752015.0, &quot;positiveIncrease&quot;: 203895.0, &quot;death&quot;: 320266.0, &quot;deathIncrease&quot;: 3602.0, &quot;positiveRate&quot;: 0.116, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.126}, {&quot;date&quot;: &quot;2021-01-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1824553.0, &quot;positiveIncrease&quot;: 218265.0, &quot;death&quot;: 323650.0, &quot;deathIncrease&quot;: 3384.0, &quot;positiveRate&quot;: 0.12, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.122}, {&quot;date&quot;: &quot;2021-01-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1795533.0, &quot;positiveIncrease&quot;: 196088.0, &quot;death&quot;: 327106.0, &quot;deathIncrease&quot;: 3456.0, &quot;positiveRate&quot;: 0.109, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.118}, {&quot;date&quot;: &quot;2021-01-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1641242.0, &quot;positiveIncrease&quot;: 168244.0, &quot;death&quot;: 328962.0, &quot;deathIncrease&quot;: 1856.0, &quot;positiveRate&quot;: 0.103, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.116}, {&quot;date&quot;: &quot;2021-01-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1501535.0, &quot;positiveIncrease&quot;: 128051.0, &quot;death&quot;: 330107.0, &quot;deathIncrease&quot;: 1145.0, &quot;positiveRate&quot;: 0.085, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.113}, {&quot;date&quot;: &quot;2021-01-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1340163.0, &quot;positiveIncrease&quot;: 127392.0, &quot;death&quot;: 332010.0, &quot;deathIncrease&quot;: 1903.0, &quot;positiveRate&quot;: 0.095, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.108}, {&quot;date&quot;: &quot;2021-01-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1510879.0, &quot;positiveIncrease&quot;: 168486.0, &quot;death&quot;: 336032.0, &quot;deathIncrease&quot;: 4022.0, &quot;positiveRate&quot;: 0.112, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.106}, {&quot;date&quot;: &quot;2021-01-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1666552.0, &quot;positiveIncrease&quot;: 165678.0, &quot;death&quot;: 339587.0, &quot;deathIncrease&quot;: 3555.0, &quot;positiveRate&quot;: 0.099, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.103}, {&quot;date&quot;: &quot;2021-01-22T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1673521.0, &quot;positiveIncrease&quot;: 169552.0, &quot;death&quot;: 343238.0, &quot;deathIncrease&quot;: 3651.0, &quot;positiveRate&quot;: 0.101, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.101}, {&quot;date&quot;: &quot;2021-01-23T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1660018.0, &quot;positiveIncrease&quot;: 156185.0, &quot;death&quot;: 346626.0, &quot;deathIncrease&quot;: 3388.0, &quot;positiveRate&quot;: 0.094, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.098}, {&quot;date&quot;: &quot;2021-01-24T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1509249.0, &quot;positiveIncrease&quot;: 126242.0, &quot;death&quot;: 348391.0, &quot;deathIncrease&quot;: 1765.0, &quot;positiveRate&quot;: 0.084, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.096}, {&quot;date&quot;: &quot;2021-01-25T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1407829.0, &quot;positiveIncrease&quot;: 111491.0, &quot;death&quot;: 349698.0, &quot;deathIncrease&quot;: 1307.0, &quot;positiveRate&quot;: 0.079, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.095}, {&quot;date&quot;: &quot;2021-01-26T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1338606.0, &quot;positiveIncrease&quot;: 129341.0, &quot;death&quot;: 353111.0, &quot;deathIncrease&quot;: 3413.0, &quot;positiveRate&quot;: 0.097, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.095}, {&quot;date&quot;: &quot;2021-01-27T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1352633.0, &quot;positiveIncrease&quot;: 135707.0, &quot;death&quot;: 356859.0, &quot;deathIncrease&quot;: 3748.0, &quot;positiveRate&quot;: 0.1, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.093}, {&quot;date&quot;: &quot;2021-01-28T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1614290.0, &quot;positiveIncrease&quot;: 137736.0, &quot;death&quot;: 360582.0, &quot;deathIncrease&quot;: 3723.0, &quot;positiveRate&quot;: 0.085, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.091}, {&quot;date&quot;: &quot;2021-01-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1589715.0, &quot;positiveIncrease&quot;: 147288.0, &quot;death&quot;: 363826.0, &quot;deathIncrease&quot;: 3244.0, &quot;positiveRate&quot;: 0.093, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.09}, {&quot;date&quot;: &quot;2021-01-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1883080.0, &quot;positiveIncrease&quot;: 130746.0, &quot;death&quot;: 366593.0, &quot;deathIncrease&quot;: 2767.0, &quot;positiveRate&quot;: 0.069, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.087}, {&quot;date&quot;: &quot;2021-01-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1468710.0, &quot;positiveIncrease&quot;: 104288.0, &quot;death&quot;: 368481.0, &quot;deathIncrease&quot;: 1888.0, &quot;positiveRate&quot;: 0.071, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.085}, {&quot;date&quot;: &quot;2021-02-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1196877.0, &quot;positiveIncrease&quot;: 104244.0, &quot;death&quot;: 369800.0, &quot;deathIncrease&quot;: 1319.0, &quot;positiveRate&quot;: 0.087, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.086}, {&quot;date&quot;: &quot;2021-02-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1190525.0, &quot;positiveIncrease&quot;: 103683.0, &quot;death&quot;: 373054.0, &quot;deathIncrease&quot;: 3254.0, &quot;positiveRate&quot;: 0.087, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.085}, {&quot;date&quot;: &quot;2021-02-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1270484.0, &quot;positiveIncrease&quot;: 108242.0, &quot;death&quot;: 376441.0, &quot;deathIncrease&quot;: 3387.0, &quot;positiveRate&quot;: 0.085, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.082}, {&quot;date&quot;: &quot;2021-02-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1455557.0, &quot;positiveIncrease&quot;: 112267.0, &quot;death&quot;: 381389.0, &quot;deathIncrease&quot;: 4948.0, &quot;positiveRate&quot;: 0.077, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.081}, {&quot;date&quot;: &quot;2021-02-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1593905.0, &quot;positiveIncrease&quot;: 116710.0, &quot;death&quot;: 384657.0, &quot;deathIncrease&quot;: 3268.0, &quot;positiveRate&quot;: 0.073, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.078}, {&quot;date&quot;: &quot;2021-02-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1565902.0, &quot;positiveIncrease&quot;: 98794.0, &quot;death&quot;: 387414.0, &quot;deathIncrease&quot;: 2757.0, &quot;positiveRate&quot;: 0.063, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.078}, {&quot;date&quot;: &quot;2021-02-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1243243.0, &quot;positiveIncrease&quot;: 81637.0, &quot;death&quot;: 388719.0, &quot;deathIncrease&quot;: 1305.0, &quot;positiveRate&quot;: 0.066, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.077}, {&quot;date&quot;: &quot;2021-02-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1112140.0, &quot;positiveIncrease&quot;: 62361.0, &quot;death&quot;: 389823.0, &quot;deathIncrease&quot;: 1104.0, &quot;positiveRate&quot;: 0.056, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.072}, {&quot;date&quot;: &quot;2021-02-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1137570.0, &quot;positiveIncrease&quot;: 80675.0, &quot;death&quot;: 392368.0, &quot;deathIncrease&quot;: 2545.0, &quot;positiveRate&quot;: 0.071, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.07}, {&quot;date&quot;: &quot;2021-02-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1183245.0, &quot;positiveIncrease&quot;: 82835.0, &quot;death&quot;: 395500.0, &quot;deathIncrease&quot;: 3132.0, &quot;positiveRate&quot;: 0.07, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.068}, {&quot;date&quot;: &quot;2021-02-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1503228.0, &quot;positiveIncrease&quot;: 87659.0, &quot;death&quot;: 399142.0, &quot;deathIncrease&quot;: 3642.0, &quot;positiveRate&quot;: 0.058, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.065}, {&quot;date&quot;: &quot;2021-02-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1493184.0, &quot;positiveIncrease&quot;: 88056.0, &quot;death&quot;: 404339.0, &quot;deathIncrease&quot;: 5197.0, &quot;positiveRate&quot;: 0.059, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.063}, {&quot;date&quot;: &quot;2021-02-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1443886.0, &quot;positiveIncrease&quot;: 78122.0, &quot;death&quot;: 407632.0, &quot;deathIncrease&quot;: 3293.0, &quot;positiveRate&quot;: 0.054, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.062}, {&quot;date&quot;: &quot;2021-02-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1197076.0, &quot;positiveIncrease&quot;: 61680.0, &quot;death&quot;: 408875.0, &quot;deathIncrease&quot;: 1243.0, &quot;positiveRate&quot;: 0.052, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.06}, {&quot;date&quot;: &quot;2021-02-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 853603.0, &quot;positiveIncrease&quot;: 44362.0, &quot;death&quot;: 409772.0, &quot;deathIncrease&quot;: 897.0, &quot;positiveRate&quot;: 0.052, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.059}, {&quot;date&quot;: &quot;2021-02-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 899890.0, &quot;positiveIncrease&quot;: 45346.0, &quot;death&quot;: 410985.0, &quot;deathIncrease&quot;: 1213.0, &quot;positiveRate&quot;: 0.05, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.056}, {&quot;date&quot;: &quot;2021-02-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1061020.0, &quot;positiveIncrease&quot;: 56104.0, &quot;death&quot;: 413059.0, &quot;deathIncrease&quot;: 2074.0, &quot;positiveRate&quot;: 0.053, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.054}, {&quot;date&quot;: &quot;2021-02-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1017270.0, &quot;positiveIncrease&quot;: 56206.0, &quot;death&quot;: 415450.0, &quot;deathIncrease&quot;: 2391.0, &quot;positiveRate&quot;: 0.055, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.054}, {&quot;date&quot;: &quot;2021-02-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1516028.0, &quot;positiveIncrease&quot;: 61721.0, &quot;death&quot;: 417718.0, &quot;deathIncrease&quot;: 2268.0, &quot;positiveRate&quot;: 0.041, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.051}, {&quot;date&quot;: &quot;2021-02-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1020005.0, &quot;positiveIncrease&quot;: 61383.0, &quot;death&quot;: 419641.0, &quot;deathIncrease&quot;: 1923.0, &quot;positiveRate&quot;: 0.06, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.052}, {&quot;date&quot;: &quot;2021-02-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1002585.0, &quot;positiveIncrease&quot;: 49788.0, &quot;death&quot;: 420828.0, &quot;deathIncrease&quot;: 1187.0, &quot;positiveRate&quot;: 0.05, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 0.052}]}}, {&quot;mode&quot;: &quot;vega-lite&quot;});
&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

    
    
&lt;div class=&quot;cell border-box-sizing code_cell rendered&quot;&gt;
&lt;div class=&quot;input&quot;&gt;

&lt;div class=&quot;inner_cell&quot;&gt;
    &lt;div class=&quot;input_area&quot;&gt;
&lt;div class=&quot; highlight hl-ipython3&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create_plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;non_tristate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;deathIncrease&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

    &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class=&quot;output_wrapper&quot;&gt;
&lt;div class=&quot;output&quot;&gt;

&lt;div class=&quot;output_area&quot;&gt;


&lt;div class=&quot;output_html rendered_html output_subarea output_execute_result&quot;&gt;

&lt;div id=&quot;altair-viz-f2aafd427c3a4f17a9daefce9f49a7e8&quot;&gt;&lt;/div&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== &quot;altair-viz-f2aafd427c3a4f17a9daefce9f49a7e8&quot;) {
      outputDiv = document.getElementById(&quot;altair-viz-f2aafd427c3a4f17a9daefce9f49a7e8&quot;);
    }
    const paths = {
      &quot;vega&quot;: &quot;https://cdn.jsdelivr.net/npm//vega@5?noext&quot;,
      &quot;vega-lib&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lib?noext&quot;,
      &quot;vega-lite&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext&quot;,
      &quot;vega-embed&quot;: &quot;https://cdn.jsdelivr.net/npm//vega-embed@6?noext&quot;,
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () =&gt; resolve(paths[lib]);
        s.onerror = () =&gt; reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName(&quot;head&quot;)[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `&lt;div class=&quot;error&quot; style=&quot;color:red;&quot;&gt;${err}&lt;/div&gt;`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err =&gt; showError(`Javascript Error: ${err.message}&lt;br&gt;This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === &quot;function&quot; &amp;&amp; define.amd) {
      requirejs.config({paths});
      require([&quot;vega-embed&quot;], displayChart, err =&gt; showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === &quot;function&quot;) {
      displayChart(vegaEmbed);
    } else {
      loadScript(&quot;vega&quot;)
        .then(() =&gt; loadScript(&quot;vega-lite&quot;))
        .then(() =&gt; loadScript(&quot;vega-embed&quot;))
        .catch(showError)
        .then(() =&gt; displayChart(vegaEmbed));
    }
  })({&quot;config&quot;: {&quot;view&quot;: {&quot;continuousWidth&quot;: 400, &quot;continuousHeight&quot;: 300}}, &quot;layer&quot;: [{&quot;layer&quot;: [{&quot;mark&quot;: {&quot;type&quot;: &quot;point&quot;, &quot;size&quot;: 75}, &quot;encoding&quot;: {&quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}}, &quot;selection&quot;: {&quot;selector018&quot;: {&quot;type&quot;: &quot;interval&quot;, &quot;bind&quot;: &quot;scales&quot;, &quot;encodings&quot;: [&quot;x&quot;, &quot;y&quot;]}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;line&quot;, &quot;color&quot;: &quot;purple&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;rule&quot;, &quot;color&quot;: &quot;#aaa&quot;}, &quot;encoding&quot;: {&quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector017&quot;}}]}, {&quot;mark&quot;: &quot;circle&quot;, &quot;encoding&quot;: {&quot;opacity&quot;: {&quot;condition&quot;: {&quot;value&quot;: 1, &quot;selection&quot;: &quot;selector017&quot;}, &quot;value&quot;: 0}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}}, &quot;selection&quot;: {&quot;selector017&quot;: {&quot;type&quot;: &quot;single&quot;, &quot;encodings&quot;: [&quot;x&quot;], &quot;on&quot;: &quot;mouseover&quot;, &quot;nearest&quot;: true, &quot;empty&quot;: &quot;none&quot;}}}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5, &quot;stroke&quot;: &quot;white&quot;, &quot;strokeWidth&quot;: 2}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector017&quot;}}]}, {&quot;mark&quot;: {&quot;type&quot;: &quot;text&quot;, &quot;align&quot;: &quot;left&quot;, &quot;dx&quot;: 5, &quot;dy&quot;: -5}, &quot;encoding&quot;: {&quot;text&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, &quot;tooltip&quot;: [{&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}, {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;sma7d&quot;}], &quot;x&quot;: {&quot;type&quot;: &quot;temporal&quot;, &quot;field&quot;: &quot;date&quot;}, &quot;y&quot;: {&quot;type&quot;: &quot;quantitative&quot;, &quot;field&quot;: &quot;deathIncrease&quot;}}, &quot;transform&quot;: [{&quot;filter&quot;: {&quot;selection&quot;: &quot;selector017&quot;}}]}], &quot;data&quot;: {&quot;name&quot;: &quot;data-0fa9a2fe9ade36bbafba910e91a46f61&quot;}, &quot;height&quot;: 400, &quot;title&quot;: &quot;Non Tri-State: deathIncrease&quot;, &quot;width&quot;: 500, &quot;$schema&quot;: &quot;https://vega.github.io/schema/vega-lite/v4.8.1.json&quot;, &quot;datasets&quot;: {&quot;data-0fa9a2fe9ade36bbafba910e91a46f61&quot;: [{&quot;date&quot;: &quot;2020-12-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1111662.0, &quot;positiveIncrease&quot;: 183067.0, &quot;death&quot;: 275148.0, &quot;deathIncrease&quot;: 3016.0, &quot;positiveRate&quot;: 0.165, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 1989.714}, {&quot;date&quot;: &quot;2020-12-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1389220.0, &quot;positiveIncrease&quot;: 209148.0, &quot;death&quot;: 278684.0, &quot;deathIncrease&quot;: 3536.0, &quot;positiveRate&quot;: 0.151, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2058.571}, {&quot;date&quot;: &quot;2020-12-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1507854.0, &quot;positiveIncrease&quot;: 201687.0, &quot;death&quot;: 281725.0, &quot;deathIncrease&quot;: 3041.0, &quot;positiveRate&quot;: 0.134, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2108.429}, {&quot;date&quot;: &quot;2021-01-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1118797.0, &quot;positiveIncrease&quot;: 160491.0, &quot;death&quot;: 284031.0, &quot;deathIncrease&quot;: 2306.0, &quot;positiveRate&quot;: 0.143, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2240.571}, {&quot;date&quot;: &quot;2021-01-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1833097.0, &quot;positiveIncrease&quot;: 255033.0, &quot;death&quot;: 286177.0, &quot;deathIncrease&quot;: 2146.0, &quot;positiveRate&quot;: 0.139, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2364.0}, {&quot;date&quot;: &quot;2021-01-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1283132.0, &quot;positiveIncrease&quot;: 193001.0, &quot;death&quot;: 287472.0, &quot;deathIncrease&quot;: 1295.0, &quot;positiveRate&quot;: 0.15, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2368.286}, {&quot;date&quot;: &quot;2021-01-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1359528.0, &quot;positiveIncrease&quot;: 161488.0, &quot;death&quot;: 288742.0, &quot;deathIncrease&quot;: 1270.0, &quot;positiveRate&quot;: 0.119, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2372.857}, {&quot;date&quot;: &quot;2021-01-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1319085.0, &quot;positiveIncrease&quot;: 197806.0, &quot;death&quot;: 291910.0, &quot;deathIncrease&quot;: 3168.0, &quot;positiveRate&quot;: 0.15, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2394.571}, {&quot;date&quot;: &quot;2021-01-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1365356.0, &quot;positiveIncrease&quot;: 225202.0, &quot;death&quot;: 295470.0, &quot;deathIncrease&quot;: 3560.0, &quot;positiveRate&quot;: 0.165, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2398.0}, {&quot;date&quot;: &quot;2021-01-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1647254.0, &quot;positiveIncrease&quot;: 243564.0, &quot;death&quot;: 299170.0, &quot;deathIncrease&quot;: 3700.0, &quot;positiveRate&quot;: 0.148, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2492.143}, {&quot;date&quot;: &quot;2021-01-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1828379.0, &quot;positiveIncrease&quot;: 266104.0, &quot;death&quot;: 302638.0, &quot;deathIncrease&quot;: 3468.0, &quot;positiveRate&quot;: 0.146, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2658.143}, {&quot;date&quot;: &quot;2021-01-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1786837.0, &quot;positiveIncrease&quot;: 244998.0, &quot;death&quot;: 305887.0, &quot;deathIncrease&quot;: 3249.0, &quot;positiveRate&quot;: 0.137, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2815.714}, {&quot;date&quot;: &quot;2021-01-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1772066.0, &quot;positiveIncrease&quot;: 207731.0, &quot;death&quot;: 307770.0, &quot;deathIncrease&quot;: 1883.0, &quot;positiveRate&quot;: 0.117, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2899.714}, {&quot;date&quot;: &quot;2021-01-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1541363.0, &quot;positiveIncrease&quot;: 168843.0, &quot;death&quot;: 309196.0, &quot;deathIncrease&quot;: 1426.0, &quot;positiveRate&quot;: 0.11, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2922.0}, {&quot;date&quot;: &quot;2021-01-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1509824.0, &quot;positiveIncrease&quot;: 194530.0, &quot;death&quot;: 312954.0, &quot;deathIncrease&quot;: 3758.0, &quot;positiveRate&quot;: 0.129, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 3006.286}, {&quot;date&quot;: &quot;2021-01-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1577988.0, &quot;positiveIncrease&quot;: 198505.0, &quot;death&quot;: 316664.0, &quot;deathIncrease&quot;: 3710.0, &quot;positiveRate&quot;: 0.126, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 3027.714}, {&quot;date&quot;: &quot;2021-01-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1752015.0, &quot;positiveIncrease&quot;: 203895.0, &quot;death&quot;: 320266.0, &quot;deathIncrease&quot;: 3602.0, &quot;positiveRate&quot;: 0.116, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 3013.714}, {&quot;date&quot;: &quot;2021-01-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1824553.0, &quot;positiveIncrease&quot;: 218265.0, &quot;death&quot;: 323650.0, &quot;deathIncrease&quot;: 3384.0, &quot;positiveRate&quot;: 0.12, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 3001.714}, {&quot;date&quot;: &quot;2021-01-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1795533.0, &quot;positiveIncrease&quot;: 196088.0, &quot;death&quot;: 327106.0, &quot;deathIncrease&quot;: 3456.0, &quot;positiveRate&quot;: 0.109, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 3031.286}, {&quot;date&quot;: &quot;2021-01-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1641242.0, &quot;positiveIncrease&quot;: 168244.0, &quot;death&quot;: 328962.0, &quot;deathIncrease&quot;: 1856.0, &quot;positiveRate&quot;: 0.103, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 3027.429}, {&quot;date&quot;: &quot;2021-01-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1501535.0, &quot;positiveIncrease&quot;: 128051.0, &quot;death&quot;: 330107.0, &quot;deathIncrease&quot;: 1145.0, &quot;positiveRate&quot;: 0.085, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2987.286}, {&quot;date&quot;: &quot;2021-01-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1340163.0, &quot;positiveIncrease&quot;: 127392.0, &quot;death&quot;: 332010.0, &quot;deathIncrease&quot;: 1903.0, &quot;positiveRate&quot;: 0.095, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2722.286}, {&quot;date&quot;: &quot;2021-01-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1510879.0, &quot;positiveIncrease&quot;: 168486.0, &quot;death&quot;: 336032.0, &quot;deathIncrease&quot;: 4022.0, &quot;positiveRate&quot;: 0.112, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2766.857}, {&quot;date&quot;: &quot;2021-01-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1666552.0, &quot;positiveIncrease&quot;: 165678.0, &quot;death&quot;: 339587.0, &quot;deathIncrease&quot;: 3555.0, &quot;positiveRate&quot;: 0.099, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2760.143}, {&quot;date&quot;: &quot;2021-01-22T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1673521.0, &quot;positiveIncrease&quot;: 169552.0, &quot;death&quot;: 343238.0, &quot;deathIncrease&quot;: 3651.0, &quot;positiveRate&quot;: 0.101, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2798.286}, {&quot;date&quot;: &quot;2021-01-23T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1660018.0, &quot;positiveIncrease&quot;: 156185.0, &quot;death&quot;: 346626.0, &quot;deathIncrease&quot;: 3388.0, &quot;positiveRate&quot;: 0.094, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2788.571}, {&quot;date&quot;: &quot;2021-01-24T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1509249.0, &quot;positiveIncrease&quot;: 126242.0, &quot;death&quot;: 348391.0, &quot;deathIncrease&quot;: 1765.0, &quot;positiveRate&quot;: 0.084, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2775.571}, {&quot;date&quot;: &quot;2021-01-25T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1407829.0, &quot;positiveIncrease&quot;: 111491.0, &quot;death&quot;: 349698.0, &quot;deathIncrease&quot;: 1307.0, &quot;positiveRate&quot;: 0.079, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2798.714}, {&quot;date&quot;: &quot;2021-01-26T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1338606.0, &quot;positiveIncrease&quot;: 129341.0, &quot;death&quot;: 353111.0, &quot;deathIncrease&quot;: 3413.0, &quot;positiveRate&quot;: 0.097, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 3014.429}, {&quot;date&quot;: &quot;2021-01-27T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1352633.0, &quot;positiveIncrease&quot;: 135707.0, &quot;death&quot;: 356859.0, &quot;deathIncrease&quot;: 3748.0, &quot;positiveRate&quot;: 0.1, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2975.286}, {&quot;date&quot;: &quot;2021-01-28T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1614290.0, &quot;positiveIncrease&quot;: 137736.0, &quot;death&quot;: 360582.0, &quot;deathIncrease&quot;: 3723.0, &quot;positiveRate&quot;: 0.085, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2999.286}, {&quot;date&quot;: &quot;2021-01-29T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1589715.0, &quot;positiveIncrease&quot;: 147288.0, &quot;death&quot;: 363826.0, &quot;deathIncrease&quot;: 3244.0, &quot;positiveRate&quot;: 0.093, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2941.143}, {&quot;date&quot;: &quot;2021-01-30T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1883080.0, &quot;positiveIncrease&quot;: 130746.0, &quot;death&quot;: 366593.0, &quot;deathIncrease&quot;: 2767.0, &quot;positiveRate&quot;: 0.069, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2852.429}, {&quot;date&quot;: &quot;2021-01-31T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1468710.0, &quot;positiveIncrease&quot;: 104288.0, &quot;death&quot;: 368481.0, &quot;deathIncrease&quot;: 1888.0, &quot;positiveRate&quot;: 0.071, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2870.0}, {&quot;date&quot;: &quot;2021-02-01T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1196877.0, &quot;positiveIncrease&quot;: 104244.0, &quot;death&quot;: 369800.0, &quot;deathIncrease&quot;: 1319.0, &quot;positiveRate&quot;: 0.087, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2871.714}, {&quot;date&quot;: &quot;2021-02-02T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1190525.0, &quot;positiveIncrease&quot;: 103683.0, &quot;death&quot;: 373054.0, &quot;deathIncrease&quot;: 3254.0, &quot;positiveRate&quot;: 0.087, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2849.0}, {&quot;date&quot;: &quot;2021-02-03T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1270484.0, &quot;positiveIncrease&quot;: 108242.0, &quot;death&quot;: 376441.0, &quot;deathIncrease&quot;: 3387.0, &quot;positiveRate&quot;: 0.085, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2797.429}, {&quot;date&quot;: &quot;2021-02-04T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1455557.0, &quot;positiveIncrease&quot;: 112267.0, &quot;death&quot;: 381389.0, &quot;deathIncrease&quot;: 4948.0, &quot;positiveRate&quot;: 0.077, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2972.429}, {&quot;date&quot;: &quot;2021-02-05T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1593905.0, &quot;positiveIncrease&quot;: 116710.0, &quot;death&quot;: 384657.0, &quot;deathIncrease&quot;: 3268.0, &quot;positiveRate&quot;: 0.073, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2975.857}, {&quot;date&quot;: &quot;2021-02-06T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1565902.0, &quot;positiveIncrease&quot;: 98794.0, &quot;death&quot;: 387414.0, &quot;deathIncrease&quot;: 2757.0, &quot;positiveRate&quot;: 0.063, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2974.429}, {&quot;date&quot;: &quot;2021-02-07T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1243243.0, &quot;positiveIncrease&quot;: 81637.0, &quot;death&quot;: 388719.0, &quot;deathIncrease&quot;: 1305.0, &quot;positiveRate&quot;: 0.066, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2891.143}, {&quot;date&quot;: &quot;2021-02-08T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1112140.0, &quot;positiveIncrease&quot;: 62361.0, &quot;death&quot;: 389823.0, &quot;deathIncrease&quot;: 1104.0, &quot;positiveRate&quot;: 0.056, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2860.429}, {&quot;date&quot;: &quot;2021-02-09T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1137570.0, &quot;positiveIncrease&quot;: 80675.0, &quot;death&quot;: 392368.0, &quot;deathIncrease&quot;: 2545.0, &quot;positiveRate&quot;: 0.071, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2759.143}, {&quot;date&quot;: &quot;2021-02-10T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1183245.0, &quot;positiveIncrease&quot;: 82835.0, &quot;death&quot;: 395500.0, &quot;deathIncrease&quot;: 3132.0, &quot;positiveRate&quot;: 0.07, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2722.714}, {&quot;date&quot;: &quot;2021-02-11T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1503228.0, &quot;positiveIncrease&quot;: 87659.0, &quot;death&quot;: 399142.0, &quot;deathIncrease&quot;: 3642.0, &quot;positiveRate&quot;: 0.058, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2536.143}, {&quot;date&quot;: &quot;2021-02-12T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1493184.0, &quot;positiveIncrease&quot;: 88056.0, &quot;death&quot;: 404339.0, &quot;deathIncrease&quot;: 5197.0, &quot;positiveRate&quot;: 0.059, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2811.714}, {&quot;date&quot;: &quot;2021-02-13T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1443886.0, &quot;positiveIncrease&quot;: 78122.0, &quot;death&quot;: 407632.0, &quot;deathIncrease&quot;: 3293.0, &quot;positiveRate&quot;: 0.054, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2888.286}, {&quot;date&quot;: &quot;2021-02-14T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1197076.0, &quot;positiveIncrease&quot;: 61680.0, &quot;death&quot;: 408875.0, &quot;deathIncrease&quot;: 1243.0, &quot;positiveRate&quot;: 0.052, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2879.429}, {&quot;date&quot;: &quot;2021-02-15T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 853603.0, &quot;positiveIncrease&quot;: 44362.0, &quot;death&quot;: 409772.0, &quot;deathIncrease&quot;: 897.0, &quot;positiveRate&quot;: 0.052, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2849.857}, {&quot;date&quot;: &quot;2021-02-16T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 899890.0, &quot;positiveIncrease&quot;: 45346.0, &quot;death&quot;: 410985.0, &quot;deathIncrease&quot;: 1213.0, &quot;positiveRate&quot;: 0.05, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2659.571}, {&quot;date&quot;: &quot;2021-02-17T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1061020.0, &quot;positiveIncrease&quot;: 56104.0, &quot;death&quot;: 413059.0, &quot;deathIncrease&quot;: 2074.0, &quot;positiveRate&quot;: 0.053, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2508.429}, {&quot;date&quot;: &quot;2021-02-18T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1017270.0, &quot;positiveIncrease&quot;: 56206.0, &quot;death&quot;: 415450.0, &quot;deathIncrease&quot;: 2391.0, &quot;positiveRate&quot;: 0.055, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 2329.714}, {&quot;date&quot;: &quot;2021-02-19T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1516028.0, &quot;positiveIncrease&quot;: 61721.0, &quot;death&quot;: 417718.0, &quot;deathIncrease&quot;: 2268.0, &quot;positiveRate&quot;: 0.041, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 1911.286}, {&quot;date&quot;: &quot;2021-02-20T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1020005.0, &quot;positiveIncrease&quot;: 61383.0, &quot;death&quot;: 419641.0, &quot;deathIncrease&quot;: 1923.0, &quot;positiveRate&quot;: 0.06, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 1715.571}, {&quot;date&quot;: &quot;2021-02-21T00:00:00&quot;, &quot;totalTestResultsIncrease&quot;: 1002585.0, &quot;positiveIncrease&quot;: 49788.0, &quot;death&quot;: 420828.0, &quot;deathIncrease&quot;: 1187.0, &quot;positiveRate&quot;: 0.05, &quot;state&quot;: &quot;Non Tri-State&quot;, &quot;sma7d&quot;: 1707.571}]}}, {&quot;mode&quot;: &quot;vega-lite&quot;});
&lt;/script&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
    

&lt;/div&gt;</content><author><name>bbernst</name></author><category term="healthcare" /><category term="covid" /><summary type="html"></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://bbernst.github.io/blog/images/covid_plots/covid_mask.png" /><media:content medium="image" url="https://bbernst.github.io/blog/images/covid_plots/covid_mask.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>